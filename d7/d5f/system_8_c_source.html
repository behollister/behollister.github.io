<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HIPAIR: /home/bhollister/Development/hipair/system.C Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HIPAIR
   </div>
   <div id="projectbrief">Configuration space modeling</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d7/d5f/system_8_c_source.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">/home/bhollister/Development/hipair/system.C</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d7/d5f/system_8_c.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/db2/system_8h.html">system.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno"><a class="line" href="../../d1/dd0/classgl_region.html#ad2b2717dea94b5274f547634fc38cf91">    3</a></span>&#160;<a class="code" href="../../d1/dd0/classgl_region.html#a8560e7c543bd7a269aa4ba3643cc9160">glRegion::glRegion</a> (<a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a> &amp;profile, <span class="keywordtype">double</span> z1, <span class="keywordtype">double</span> z2)</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;{</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;  <span class="keywordtype">int</span> n = profile.size(), m = 0;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i)</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;    m += profile[i].size();</div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;  <a class="code" href="../../d1/dd0/classgl_region.html#ab39e8e67e91648edd873e0e9ce09026f">vb</a> = <span class="keyword">new</span> <span class="keywordtype">double</span> [3*m];</div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;  <a class="code" href="../../d2/d91/point_8h.html#a6ab2056ebc3a04f560f9bf1d01688d34">Triangles</a> triangles;</div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;  <a class="code" href="../../d6/d83/mtriangulate_8_c.html#a1cccac85eafe48b037e31e8a41501b1f">triangulate</a>(profile, triangles);</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;  <a class="code" href="../../d1/dd0/classgl_region.html#aa536351cf9cdb568a02512eee1c5d363">nvt</a> = 3*triangles.size();</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;  <a class="code" href="../../d1/dd0/classgl_region.html#a64bdc54f9b4a2156b37c6c17940fc869">vt</a> = <span class="keyword">new</span> <span class="keywordtype">double</span> [3*<a class="code" href="../../d1/dd0/classgl_region.html#aa536351cf9cdb568a02512eee1c5d363">nvt</a>];</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;  <span class="keywordtype">double</span> *vbp = <a class="code" href="../../d1/dd0/classgl_region.html#ab39e8e67e91648edd873e0e9ce09026f">vb</a>, *vtp = <a class="code" href="../../d1/dd0/classgl_region.html#a64bdc54f9b4a2156b37c6c17940fc869">vt</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;  <a class="code" href="../../d1/dd0/classgl_region.html#a62c1a351170dd92e5e576316f8e8088d">nvb</a>.push_back(0);</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    <a class="code" href="../../d1/dd0/classgl_region.html#a62c1a351170dd92e5e576316f8e8088d">nvb</a>.push_back(<a class="code" href="../../d1/dd0/classgl_region.html#a62c1a351170dd92e5e576316f8e8088d">nvb</a>[i] + profile[i].size());</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; profile[i].size(); ++j, vbp += 3) {</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;      vbp[0] = profile[i][j].x;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;      vbp[1] = profile[i][j].y;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;      vbp[2] = z2;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    }</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;  }</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <span class="keywordtype">double</span> z = 0.5*(z1 + z2);</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; triangles.size(); ++i, vtp += 9) {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;      <a class="code" href="../../d2/d28/class_triangle.html">Triangle</a> &amp;t = triangles[i];</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;      vtp[0] = t.<a class="code" href="../../d2/d28/class_triangle.html#a08d2940a819cebd3321beeebbaef389e">a</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;      vtp[1] = t.<a class="code" href="../../d2/d28/class_triangle.html#a08d2940a819cebd3321beeebbaef389e">a</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;      vtp[2] = z;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;      vtp[3] = t.<a class="code" href="../../d2/d28/class_triangle.html#af4167c2fce79260b261531d0b0fd3798">b</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;      vtp[4] = t.<a class="code" href="../../d2/d28/class_triangle.html#af4167c2fce79260b261531d0b0fd3798">b</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;      vtp[5] = z;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;      vtp[6] = t.<a class="code" href="../../d2/d28/class_triangle.html#a972f16cb46805d72e9421b3c42ebc980">c</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;      vtp[7] = t.<a class="code" href="../../d2/d28/class_triangle.html#a972f16cb46805d72e9421b3c42ebc980">c</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;      vtp[8] = z;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;  }</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;}</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160; </div>
<div class="line"><a name="l00038"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a8bc319d771a13e5e756a8daabde998b9">   38</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a8bc319d771a13e5e756a8daabde998b9">delete_glRegions</a> (<a class="code" href="../../dc/db2/system_8h.html#a1582e58b0c057f3ab266fa71d4eef4e3">glRegions</a> &amp;regions)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;{</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; regions.size(); ++i)</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keyword">delete</span> regions[i];</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;  regions.clear();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;}</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160; </div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../dd/d6c/class_slice.html#af5eca11ee40a61159787ec35f2f1ed27">   45</a></span>&#160;<a class="code" href="../../dd/d6c/class_slice.html#af5eca11ee40a61159787ec35f2f1ed27">Slice::~Slice</a> ()</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;{</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#aa43483f15c774639d33d73b3f62a881b">delete_boundaries</a>(<a class="code" href="../../dd/d6c/class_slice.html#af7d01356587123198dcc47c700d42a1e">boundaries</a>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160; </div>
<div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#aa43483f15c774639d33d73b3f62a881b">   50</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#aa43483f15c774639d33d73b3f62a881b">delete_boundaries</a> (<a class="code" href="../../dc/db2/system_8h.html#a2e6dce66ed052a44034a7d22419e6d0e">Boundaries</a> &amp;boundaries)</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; boundaries.size(); ++i)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="../../d6/d39/cs_8_c.html#a66b6d7092280f6a0a04a6bc54b66b4d5">delete_boundary</a>(boundaries[i]);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160; </div>
<div class="line"><a name="l00056"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a1710faabd37355a2a4380b904ea37642">   56</a></span>&#160;<a class="code" href="../../db/d16/class_part.html#a1710faabd37355a2a4380b904ea37642">Part::~Part</a> ()</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;{</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i];</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a8bc319d771a13e5e756a8daabde998b9">delete_glRegions</a> (<a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;}</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">   63</a></span>&#160;<a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> * <a class="code" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">Part::cspace</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> acc, <span class="keywordtype">double</span> *bbox, <span class="keywordtype">double</span> *ibbox,</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordtype">bool</span> usebbox)<span class="keyword"> const</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;  <span class="keywordflow">if</span> (usebbox)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      bbox[i] = ibbox[i];</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a72217419c9722ab419a277f89dd66bb2">form_bbox</a>(b, bbox, ibbox);</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;  <a class="code" href="../../dc/db2/system_8h.html#a5f3ef89401c17b2ca7277264fe3be418">RegionsList</a> rlist;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; b-&gt;<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++j)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;lb &lt; b-&gt;<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[j]-&gt;ub &amp;&amp;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;      <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;ub &gt; b-&gt;<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[j]-&gt;lb) {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *reg = <a class="code" href="../../db/d16/class_part.html#aa13a2e3545f09854a75612909db0fe3d">cspace_slice</a>(<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries, b-&gt;<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[j]-&gt;boundaries,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    b, acc, bbox);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (reg)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;      rlist.push_back(reg);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  <span class="keywordflow">if</span> (rlist.empty())</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;  <span class="keywordflow">if</span> (rlist.size() == 1)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> rlist[0];</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *res = <a class="code" href="../../d7/d5f/system_8_c.html#abc261e01d8f1e11eebaa933f9f6890ab">intersection</a>(rlist, bbox);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; rlist.size(); ++i)</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(rlist[i]);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;}</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a72217419c9722ab419a277f89dd66bb2">   91</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a72217419c9722ab419a277f89dd66bb2">Part::form_bbox</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> *bbox, <span class="keywordtype">double</span> *ibbox)<span class="keyword"> const</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> &amp;&amp; b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>) {</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    bbox[0] = bbox[2] = - M_PI;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    bbox[1] = bbox[3] = M_PI;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>)</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a1145fc11374252d233a0cf9d979226d0">form_bbox_rt</a>(b, bbox);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <a class="code" href="../../db/d16/class_part.html#adad608e8915dc008798090f9bbf58dcd">form_bbox_tt</a>(b, bbox);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;  <span class="keywordflow">if</span> (ibbox) {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    bbox[0] = max(bbox[0], ibbox[0]);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    bbox[1] = min(bbox[1], ibbox[1]);</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    bbox[2] = max(bbox[2], ibbox[2]);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    bbox[3] = min(bbox[3], ibbox[3]);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;  }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;}</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160; </div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a1145fc11374252d233a0cf9d979226d0">  109</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a1145fc11374252d233a0cf9d979226d0">Part::form_bbox_rt</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> *bbox)<span class="keyword"> const</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;  bbox[0] = - M_PI;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;  bbox[1] = M_PI;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;  <span class="keywordtype">double</span> d = <a class="code" href="../../db/d16/class_part.html#a9fa4e0d3894d91faabca8018c8f806e2">rot_radius</a>(), lbb, ubb;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;  b-&gt;<a class="code" href="../../db/d16/class_part.html#a1bde9e44c4b66938838e75a654c529d5">x_range</a>(lbb, ubb);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;  <span class="keywordtype">double</span> w = 0.1*(2.0*d - lbb + ubb);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;  bbox[2] = - d - ubb - w;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;  bbox[3] = d - lbb + w;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#adad608e8915dc008798090f9bbf58dcd">  120</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#adad608e8915dc008798090f9bbf58dcd">Part::form_bbox_tt</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> *bbox)<span class="keyword"> const</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;  <span class="keywordtype">double</span> albx, aubx, alby, auby, blbx, bubx, blby, buby;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;  <a class="code" href="../../db/d16/class_part.html#a1bde9e44c4b66938838e75a654c529d5">x_range</a>(albx, aubx);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;  <a class="code" href="../../db/d16/class_part.html#a432687c5ffe7c557fd27633cdb2f2847">y_range</a>(alby, auby);</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;  b-&gt;<a class="code" href="../../db/d16/class_part.html#a1bde9e44c4b66938838e75a654c529d5">x_range</a>(blbx, bubx);</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;  b-&gt;<a class="code" href="../../db/d16/class_part.html#a432687c5ffe7c557fd27633cdb2f2847">y_range</a>(blby, buby);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;  <span class="keywordtype">double</span> wx = 0.1*(bubx - albx - blbx + aubx);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;  <span class="keywordtype">double</span> wy = 0.1*(auby - blby - alby + buby);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;  bbox[0] = blbx - aubx - wx;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;  bbox[1] = bubx - albx + wx;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;  bbox[2] = alby - buby - wy;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;  bbox[3] = auby - blby + wy;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;}</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160; </div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a9fa4e0d3894d91faabca8018c8f806e2">  135</a></span>&#160;<span class="keywordtype">double</span> <a class="code" href="../../db/d16/class_part.html#a9fa4e0d3894d91faabca8018c8f806e2">Part::rot_radius</a> ()<span class="keyword"> const</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;  <span class="keywordtype">double</span> d = 0.0;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i)</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries.size(); ++j) {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;      <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;b = *<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j];</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; b.size(); ++k) {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    d = max(d, b[k]-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.norm());</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="keywordflow">if</span> (b[k]-&gt;circle)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;      d = max(d, b[k]-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#a1de1fcf72ec8d46bf347fd2cde72cc0d">norm</a>()+b[k]-&gt;r);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;      }</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;  <span class="keywordflow">return</span> d;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div>
<div class="line"><a name="l00149"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a1bde9e44c4b66938838e75a654c529d5">  149</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a1bde9e44c4b66938838e75a654c529d5">Part::x_range</a> (<span class="keywordtype">double</span> &amp;lb, <span class="keywordtype">double</span> &amp;ub)<span class="keyword"> const</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;  lb = 1e10;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;  ub = -1e10;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i)</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries.size(); ++j) {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;      <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;b = *<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j];</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; b.size(); ++k) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <span class="keywordtype">double</span> xt = b[k]-&gt;t.x;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">if</span> (xt &lt; lb) lb = xt;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (xt &gt; ub) ub = xt;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="keywordflow">if</span> (b[k]-&gt;circle) {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;      <span class="keywordtype">double</span> xc = b[k]-&gt;o.x, r = b[k]-&gt;r;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;      <span class="keywordflow">if</span> (xc - r &lt; lb) lb = xc - r;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;      <span class="keywordflow">if</span> (xc + r &gt; ub) ub = xc + r;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    }</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;      }</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    }</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;}</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160; </div>
<div class="line"><a name="l00169"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a432687c5ffe7c557fd27633cdb2f2847">  169</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a432687c5ffe7c557fd27633cdb2f2847">Part::y_range</a> (<span class="keywordtype">double</span> &amp;lb, <span class="keywordtype">double</span> &amp;ub)<span class="keyword"> const</span></div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;  lb = 1e10;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;  ub = -1e10;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries.size(); ++j) {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;      <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;b = *<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j];</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; b.size(); ++k) {</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordtype">double</span> yt = b[k]-&gt;t.y;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="keywordflow">if</span> (yt &lt; lb) lb = yt;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="keywordflow">if</span> (yt &gt; ub) ub = yt;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="keywordflow">if</span> (b[k]-&gt;circle) {</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      <span class="keywordtype">double</span> yc = b[k]-&gt;o.y, r = b[k]-&gt;r;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;      <span class="keywordflow">if</span> (yc - r &lt; lb) lb = yc - r;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;      <span class="keywordflow">if</span> (yc + r &gt; ub) ub = yc + r;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    }</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;      }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;}</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160; </div>
<div class="line"><a name="l00189"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#aa13a2e3545f09854a75612909db0fe3d">  189</a></span>&#160;<a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> * <a class="code" href="../../db/d16/class_part.html#aa13a2e3545f09854a75612909db0fe3d">Part::cspace_slice</a> (<span class="keyword">const</span> <a class="code" href="../../dc/db2/system_8h.html#a2e6dce66ed052a44034a7d22419e6d0e">Boundaries</a> &amp;ba, <span class="keyword">const</span> <a class="code" href="../../dc/db2/system_8h.html#a2e6dce66ed052a44034a7d22419e6d0e">Boundaries</a> &amp;bb,</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                  <a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> acc, <span class="keywordtype">double</span> *bbox)<span class="keyword"> const</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *<a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a> = <span class="keyword">new</span> <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a>;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> oab = b-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a> - <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; ba.size(); ++i)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; bb.size(); ++j)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;      <span class="keywordflow">if</span> (i == 0 || j == 0) {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordflow">if</span> (ba[i]-&gt;empty() || bb[j]-&gt;empty())</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;      <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    <a class="code" href="../../da/d8e/cs_8h.html#a647b538530f90934e92f8067ada21de2">Contacts</a> <a class="code" href="../../d6/d39/cs_8_c.html#abcd699cfbf8e64e6e6bb76bd8dda4579">contacts</a>;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;    <a class="code" href="../../d6/d39/cs_8_c.html#a30a9ef5a79bae429ee0c6947c9653f9a">boundary_contacts</a>(ba[i], <a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>, bb[j], b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>, oab, <a class="code" href="../../d6/d39/cs_8_c.html#abcd699cfbf8e64e6e6bb76bd8dda4579">contacts</a>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <a class="code" href="../../d5/d59/arrange_8h.html#ac3b61278bc7e26264938b4f2b07a4b96">Segments</a> curves;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    <a class="code" href="../../d6/d39/cs_8_c.html#a4b7de9e5dc6417dd0d5406ebc4229875">form_curves</a>(<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>, b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>, <a class="code" href="../../d6/d39/cs_8_c.html#abcd699cfbf8e64e6e6bb76bd8dda4579">contacts</a>, acc, bbox, curves);</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="../../d8/d46/class_arrangement.html">Arrangement</a> *arr = <a class="code" href="../../d0/d11/arrange_8_c.html#a8f0f410db8738d9121c7b0a2629abd5d">arrange</a>(curves);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a7b802302c9299086aa98cc314fed33d0">form_regions</a>(arr, b, ba[i], i == 0, bb[j], j == 0, acc, <a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../d6/d39/cs_8_c.html#abcd699cfbf8e64e6e6bb76bd8dda4579">contacts</a>.size(); ++k)</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;      <span class="keyword">delete</span> <a class="code" href="../../d6/d39/cs_8_c.html#abcd699cfbf8e64e6e6bb76bd8dda4579">contacts</a>[k];</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keyword">delete</span> arr;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <a class="code" href="../../d0/d11/arrange_8_c.html#ad281dbb75f898810d2d7ab25fbabbe98">delete_segments</a>(curves);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;      }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>-&gt;empty()) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;  }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;  <span class="keywordflow">return</span> <a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>;</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160; </div>
<div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a7b802302c9299086aa98cc314fed33d0">  217</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a7b802302c9299086aa98cc314fed33d0">Part::form_regions</a> (<a class="code" href="../../d8/d46/class_arrangement.html">Arrangement</a> *arr, <a class="code" href="../../db/d16/class_part.html">Part</a> *b, <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *ba, </div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;             <span class="keywordtype">bool</span> aout, <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *bb, <span class="keywordtype">bool</span> bout, <span class="keywordtype">double</span> acc,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;             <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *regions)<span class="keyword"> const</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;  <a class="code" href="../../d5/d2a/class_face.html">Face</a> *f = 0;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;  <span class="keywordtype">bool</span> flag = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>.size(); ++i) {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    f = arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>[i];</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d5/d2a/class_face.html#a6fc237e1d7fbc7b9c124c252e64adc1d">in</a>) {</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;      <a class="code" href="../../df/d6c/class_region.html">Region</a> *region = <span class="keyword">new</span> <a class="code" href="../../df/d6c/class_region.html">Region</a>;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;      f-&gt;<a class="code" href="../../d5/d2a/class_face.html#a0ff0e0b604821fb1350646a46f7b34e5">discretize</a>(acc, region-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>, <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;      flag = region-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[0].size() &gt;= 3 &amp;&amp; region-&gt;<a class="code" href="../../df/d6c/class_region.html#ab694b0cf7e7ce0eb31b2d8b93201b6b9">area</a>() &gt; <a class="code" href="../../dc/db2/system_8h.html#afde0838293fd6db8bf81af99282a4f23">MINAREA</a>;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;      <span class="keywordflow">if</span> (flag) {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> p = region-&gt;<a class="code" href="../../df/d6c/class_region.html#adefc4eeb2fc71edce16765fadb188f54">interior_point</a>();</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    flag = !<a class="code" href="../../db/d16/class_part.html#afaebfd8f7c84e180ce99b2c188b8e28f">overlap</a>(b, p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, p.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, ba, aout, bb, bout);</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;      }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;      <span class="keywordflow">if</span> (flag) {</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>-&gt;push_back(region);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;      }</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;    <span class="keyword">delete</span> region;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;  }</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;  <span class="keywordflow">if</span> (!flag) </div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;  arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#ac8aba3d8b28ba91cc00caaceac51d010">set_crossing_numbers</a>(f, 0);</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>.size(); ++i) {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <a class="code" href="../../d5/d2a/class_face.html">Face</a> *g = arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>[i];</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;     <span class="keywordflow">if</span> (g != f &amp;&amp; g-&gt;<a class="code" href="../../d5/d2a/class_face.html#a0a3759b988f573101e07e9ea20c66a04">cn</a> == 0 &amp;&amp; g-&gt;<a class="code" href="../../d5/d2a/class_face.html#a6fc237e1d7fbc7b9c124c252e64adc1d">in</a>) {</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;       <a class="code" href="../../df/d6c/class_region.html">Region</a> *region = <span class="keyword">new</span> <a class="code" href="../../df/d6c/class_region.html">Region</a>;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;       g-&gt;<a class="code" href="../../d5/d2a/class_face.html#a0ff0e0b604821fb1350646a46f7b34e5">discretize</a>(acc, region-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>, <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;       <a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>-&gt;push_back(region);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;  }</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#afaebfd8f7c84e180ce99b2c188b8e28f">  254</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/d16/class_part.html#afaebfd8f7c84e180ce99b2c188b8e28f">Part::overlap</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> u, <span class="keywordtype">double</span> v, <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *ba, <span class="keywordtype">bool</span> aout,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;            <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *bb, <span class="keywordtype">bool</span> bout)<span class="keyword"> const</span></div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;  <a class="code" href="../../d2/d39/class_angle.html">Angle</a> th(<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? u : 0.0), thb(b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? <a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> : 0.0);</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> d = <a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? <a class="code" href="../../d0/d69/class_point.html">Point</a>(0.0, 0.0) : <a class="code" href="../../d0/d69/class_point.html">Point</a>(u, 0.0);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> db = b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? b-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a> - <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a> : (<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? <a class="code" href="../../d0/d69/class_point.html">Point</a>(<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>, 0.0) : <a class="code" href="../../d0/d69/class_point.html">Point</a>(0.0, <a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>));</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;  <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *mba = <a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">::move</a>(ba, th, d);</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;  <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *mbb = <a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">::move</a>(bb, thb, db);</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;  <span class="keywordtype">bool</span> res = <a class="code" href="../../db/d16/class_part.html#afaebfd8f7c84e180ce99b2c188b8e28f">::overlap</a>(mba, mbb);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;  <span class="keywordflow">if</span> (!res) </div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    <span class="keywordflow">if</span> (aout &amp;&amp; bout) {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;      <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;pa = mba-&gt;at(0)-&gt;t;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;      res = <a class="code" href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">contains</a>(*mbb, pa);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;      <span class="keywordflow">if</span> (!res) {</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;pb = mbb-&gt;at(0)-&gt;t;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    res = <a class="code" href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">contains</a>(*mba, pb);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;      }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    }</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (aout &amp;&amp; !bout) {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;      <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;pa = mba-&gt;at(0)-&gt;t;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;      res = !<a class="code" href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">contains</a>(*mbb, pa);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;      <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;pb = mbb-&gt;at(0)-&gt;t;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;      res = !<a class="code" href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">contains</a>(*mba, pb);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;  <a class="code" href="../../d6/d39/cs_8_c.html#a66b6d7092280f6a0a04a6bc54b66b4d5">delete_boundary</a>(mba);</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;  <a class="code" href="../../d6/d39/cs_8_c.html#a66b6d7092280f6a0a04a6bc54b66b4d5">delete_boundary</a>(mbb);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;  <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;}</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#aebf980a2a6bbcadabce00c82b5af9536">  285</a></span>&#160;<a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> * <a class="code" href="../../d7/d5f/system_8_c.html#aebf980a2a6bbcadabce00c82b5af9536">move</a> (<a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *b, <span class="keyword">const</span> <a class="code" href="../../d2/d39/class_angle.html">Angle</a> &amp;a, <span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;d)</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;{</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;  <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *mb = <span class="keyword">new</span> <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a>;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; b-&gt;size(); ++i) {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *mf = <span class="keyword">new</span> <a class="code" href="../../d7/d76/class_feature.html">Feature</a>(b-&gt;at(i)-&gt;move(a, d));</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    mb-&gt;push_back(mf);</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;  }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;  <span class="keywordflow">return</span> mb;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;}</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160; </div>
<div class="line"><a name="l00295"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a78afbeb04fcf5ebf57692de808295387">  295</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d5f/system_8_c.html#a78afbeb04fcf5ebf57692de808295387">overlap</a> (<a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *b1, <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *b2)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;{</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; b1-&gt;size(); ++i)</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; b2-&gt;size(); ++j)</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;      <span class="keywordflow">if</span> (b1-&gt;at(i)-&gt;intersects(*b2-&gt;at(j)))</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;}</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">  304</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">contains</a> (<span class="keyword">const</span> <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;boundary, <a class="code" href="../../d0/d69/class_point.html">Point</a> p)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;{</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; boundary.size(); ++i)</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">if</span> (boundary[i]-&gt;t.x == p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> || boundary[i]-&gt;h.x == p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;      p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> += <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;  <span class="keywordtype">bool</span> in = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; boundary.size(); ++i)</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    <span class="keywordflow">if</span> (boundary[i]-&gt;above(p))</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;      in = !in;</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;  <span class="keywordflow">return</span> in;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;}</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160; </div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<span class="comment">bool Part::overlap (Part *b, double u, double v) const</span></div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;<span class="comment">  Angle th(rot ? u : 0.0), thb(b-&gt;rot ? v : 0.0);</span></div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;<span class="comment">  Point d = rot ? Point(0.0, 0.0) : Point(u, 0.0);</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;<span class="comment">  Point db = b-&gt;rot ? b-&gt;o - o : (rot ? Point(v, 0.0) : Point(0.0, v));</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;<span class="comment">  for (unsigned int i = 0; i &lt; slices.size(); ++i) {</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;<span class="comment">    Slice *s = slices[i];</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;<span class="comment">    for (unsigned int ib = 0; ib &lt; b-&gt;slices.size(); ++ib) {</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;<span class="comment">      Slice *sb = b-&gt;slices[ib];</span></div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<span class="comment">      if (s-&gt;lb &lt; sb-&gt;ub &amp;&amp; s-&gt;ub &gt; sb-&gt;lb &amp;&amp;</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;<span class="comment">      ::overlap(s-&gt;boundaries, th, d, sb-&gt;boundaries, thb, db))</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;<span class="comment">    return true;</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;<span class="comment">  }</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">  return false;</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">}</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">bool overlap (const Boundaries &amp;boundaries1, const Angle &amp;a1, const Point &amp;d1,</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<span class="comment">          const Boundaries &amp;boundaries2, const Angle &amp;a2, const Point &amp;d2)</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;<span class="comment">  Boundaries rb1, rb2;</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;<span class="comment">  move(boundaries1, a1, d1, rb1);</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;<span class="comment">  move(boundaries2, a2, d2, rb2);</span></div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;<span class="comment">  bool res = overlap1(rb1, rb2) || overlap2(rb1, rb2) || overlap2(rb2, rb1);</span></div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;<span class="comment">  delete_boundaries(rb1);</span></div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="comment">  delete_boundaries(rb2);</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;<span class="comment">  return res;</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;<span class="comment">}</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;<span class="comment">void move (const Boundaries &amp;boundaries, const Angle &amp;a, const Point &amp;d,</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="comment">       Boundaries &amp;res)</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="comment">  for (unsigned int i = 0; i &lt; boundaries.size(); ++i) {</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;<span class="comment">    Boundary &amp;b = *boundaries[i], *rb = new Boundary;</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<span class="comment">    res.push_back(rb);</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;<span class="comment">    for (unsigned int j = 0; j &lt; b.size(); ++j) {</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;<span class="comment">      Feature *f = b[j], *rf = new Feature;</span></div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;<span class="comment">      rb-&gt;push_back(rf);</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;<span class="comment">      *rf = f-&gt;move(a, d);</span></div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;<span class="comment">  }</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;<span class="comment">}</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;<span class="comment">bool overlap1 (const Boundaries &amp;boundaries1, const Boundaries &amp;boundaries2)</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="comment">  for (unsigned int i1 = 0; i1 &lt; boundaries1.size(); ++i1)</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;<span class="comment">    for (unsigned int i2 = 0; i2 &lt; boundaries2.size(); ++i2) {</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;<span class="comment">      Boundary &amp;b1 = *boundaries1[i1], &amp;b2 = *boundaries2[i2];</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;<span class="comment">      for (unsigned int j1 = 0; j1 &lt; b1.size(); ++j1)</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;<span class="comment">    for (unsigned int j2 = 0; j2 &lt; b2.size(); ++j2)</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;<span class="comment">      if (b1[j1]-&gt;intersects(*b2[j2]))</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;<span class="comment">        return true;</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">  return false;</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">}</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="comment"></span> </div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;<span class="comment">bool overlap2 (const Boundaries &amp;boundaries1, const Boundaries &amp;boundaries2)</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="comment">{</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;<span class="comment">  Point &amp;p2 = (*boundaries2[0])[0]-&gt;t;</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;<span class="comment">  if (!contains(*boundaries1[0], p2))</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;<span class="comment">    return false;</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;<span class="comment">  for (unsigned int i = 1; i &lt; boundaries1.size(); ++i)</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;<span class="comment">    if (contains(*boundaries1[i], p2))</span></div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;<span class="comment">      return false;</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;<span class="comment">  return true;</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;<span class="comment">}</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a4ac3eac5a262d5ea40d7762370071ace">  385</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a4ac3eac5a262d5ea40d7762370071ace">Part::read</a> (istream &amp;istr)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;{</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;  <span class="keywordtype">int</span> nslices, dc[4];</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;  <span class="keywordtype">double</span> pars[7];</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;  istr &gt;&gt; <a class="code" href="../../db/d16/class_part.html#a2e8faa9bf7fbdc5624bf3739fa5452c5">name</a> &gt;&gt; nslices &gt;&gt; dc[0] &gt;&gt; dc[1] &gt;&gt; dc[2] &gt;&gt; dc[3];</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a28e3e19633fb8b8e9df5a7b2554be95c">color</a>[i] = dc[i]/255.0f;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 7; ++i)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    istr &gt;&gt; pars[i];</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;  <a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> = pars[0] == 3.0;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;  <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> = pars[1];</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;  <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> = pars[2];</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>) {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (pars[0] == 1.0 || pars[0] == 5.0)  </div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;      <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a> = <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(1.0, 0.0);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pars[0] == 2.0)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;      <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a> = <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(0.0, 1.0);</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (pars[0] == 4.0)</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;      <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a> = <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(pars[6]);</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> -= (<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a>*<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> + <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#a7d779572a08ea4c884ba302d1f0f74c7">s</a>*<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>)*<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a>;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> -= (<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a>*<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> + <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#a7d779572a08ea4c884ba302d1f0f74c7">s</a>*<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>)*<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#a7d779572a08ea4c884ba302d1f0f74c7">s</a>;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;  }</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;  <a class="code" href="../../d2/d39/class_angle.html">Angle</a> th(<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? 0.0 : pars[3]);</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nslices; ++i) {</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="../../dd/d6c/class_slice.html">Slice</a> *slice = <a class="code" href="../../db/d16/class_part.html#a7f1594b15432b51a669bf812dd8f9c13">read_slice</a>(istr, th);</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.push_back(slice);</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;  }  </div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160; </div>
<div class="line"><a name="l00414"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a7f1594b15432b51a669bf812dd8f9c13">  414</a></span>&#160;<a class="code" href="../../dd/d6c/class_slice.html">Slice</a> * <a class="code" href="../../db/d16/class_part.html#a7f1594b15432b51a669bf812dd8f9c13">Part::read_slice</a> (istream &amp;istr, <span class="keyword">const</span> <a class="code" href="../../d2/d39/class_angle.html">Angle</a> &amp;th)</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;{</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;  <span class="keywordtype">int</span> nboundaries;</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;  <span class="keywordtype">double</span> lb, ub;</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;  istr &gt;&gt; nboundaries &gt;&gt; lb &gt;&gt; ub;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;  <a class="code" href="../../dd/d6c/class_slice.html">Slice</a> *slice = <span class="keyword">new</span> <a class="code" href="../../dd/d6c/class_slice.html">Slice</a>(lb, ub);</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nboundaries; ++i)</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    slice-&gt;<a class="code" href="../../dd/d6c/class_slice.html#af7d01356587123198dcc47c700d42a1e">boundaries</a>.push_back(<a class="code" href="../../db/d16/class_part.html#af98073011a0906ca68dac3420caadbbd">read_boundary</a>(istr, th, i == 0));</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;  <span class="keywordflow">return</span> slice;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;}</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160; </div>
<div class="line"><a name="l00425"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#af98073011a0906ca68dac3420caadbbd">  425</a></span>&#160;<a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> * <a class="code" href="../../db/d16/class_part.html#af98073011a0906ca68dac3420caadbbd">Part::read_boundary</a> (istream &amp;istr, <span class="keyword">const</span> <a class="code" href="../../d2/d39/class_angle.html">Angle</a> &amp;th, <span class="keywordtype">bool</span> flag)<span class="keyword"> const</span></div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;  <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> segments;</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;  <span class="keywordtype">int</span> ngroups;</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;  istr &gt;&gt; ngroups;</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ngroups; ++i) {</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> sgroup;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a8d6599984cdf9de71b4bde8354533ad0">read_sgroup</a>(istr, th, sgroup);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; sgroup.size(); ++j)</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;      segments.push_back(sgroup[j]);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;  }</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;  <span class="keywordflow">if</span> (!flag)</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    reverse(segments.begin(), segments.end());</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;  <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *boundary = <a class="code" href="../../d6/d39/cs_8_c.html#adb00754a9fbab9860cade2a0d4ee0e01">fillet</a>(segments);</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;  <span class="keywordflow">return</span> boundary;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;}</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160; </div>
<div class="line"><a name="l00442"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a8d6599984cdf9de71b4bde8354533ad0">  442</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a8d6599984cdf9de71b4bde8354533ad0">Part::read_sgroup</a> (istream &amp;istr, <span class="keyword">const</span> <a class="code" href="../../d2/d39/class_angle.html">Angle</a> &amp;th, <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;sgroup)<span class="keyword"> const</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;  <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> segments;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;  <span class="keywordtype">int</span> nsegments, noffsets;</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;  istr &gt;&gt; nsegments;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nsegments; ++i)</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    segments.push_back(<a class="code" href="../../d7/d5f/system_8_c.html#a7495626132b6c7a7b1b7320fe34f571a">read_feature</a>(istr, th));</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;  istr &gt;&gt; noffsets;</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;  <span class="keywordtype">double</span> *offsets = <span class="keyword">new</span> <span class="keywordtype">double</span> [noffsets];</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; noffsets; ++i)</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;    istr &gt;&gt; offsets[i];</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; noffsets; ++i)</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nsegments; ++j)</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;      sgroup.push_back(<a class="code" href="../../db/d16/class_part.html#a05ef68152e341327c24d8ef177202114">shift_feature</a>(segments[j], offsets[i]));</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;  <span class="keyword">delete</span> [] offsets;</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;}</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160; </div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a05ef68152e341327c24d8ef177202114">  459</a></span>&#160;<a class="code" href="../../d7/d76/class_feature.html">Feature</a> * <a class="code" href="../../db/d16/class_part.html#a05ef68152e341327c24d8ef177202114">Part::shift_feature</a> (<a class="code" href="../../d7/d76/class_feature.html">Feature</a> *f, <span class="keywordtype">double</span> u)<span class="keyword"> const</span></div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;  <span class="keywordflow">if</span> (u == 0.0)</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="keywordflow">return</span> f;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;  <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *sf = <span class="keyword">new</span> <a class="code" href="../../d7/d76/class_feature.html">Feature</a>;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>)</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    *sf = f-&gt;<a class="code" href="../../d7/d76/class_feature.html#a7b1aff4948433a26ca0425e747ab610e">move</a>(u, 0.0, 0.0);</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;    *sf = f-&gt;<a class="code" href="../../d7/d76/class_feature.html#a7b1aff4948433a26ca0425e747ab610e">move</a>(0.0, u*<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a>, u*<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#a7d779572a08ea4c884ba302d1f0f74c7">s</a>);</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;  <span class="keywordflow">return</span> sf;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;}  </div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160; </div>
<div class="line"><a name="l00471"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">  471</a></span>&#160;<a class="code" href="../../db/d16/class_part.html">Part</a> * <a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">Part::move</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d39/class_angle.html">Angle</a> &amp;a, <span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;d)<span class="keyword"> const</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *res = <span class="keyword">new</span> <a class="code" href="../../db/d16/class_part.html#abbcb46357cb81167473b1baee9c2d2e0">Part</a>;</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;  res-&gt;<a class="code" href="../../db/d16/class_part.html#a2e8faa9bf7fbdc5624bf3739fa5452c5">name</a> = <a class="code" href="../../db/d16/class_part.html#a2e8faa9bf7fbdc5624bf3739fa5452c5">name</a>;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    res-&gt;<a class="code" href="../../db/d16/class_part.html#a28e3e19633fb8b8e9df5a7b2554be95c">color</a>[i] = <a class="code" href="../../db/d16/class_part.html#a28e3e19633fb8b8e9df5a7b2554be95c">color</a>[i];</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;  res-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> = <a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>;</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;  res-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a> = <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>;</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;  res-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a> = <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;  for (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i) {</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <a class="code" href="../../dd/d6c/class_slice.html">Slice</a> *s = <span class="keyword">new</span> <a class="code" href="../../dd/d6c/class_slice.html">Slice</a>(<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;lb, <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;ub);</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    res-&gt;<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.push_back(s);</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries.size(); ++j) {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;      <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> *b = <span class="keyword">new</span> <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a>;</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;      s-&gt;<a class="code" href="../../dd/d6c/class_slice.html#af7d01356587123198dcc47c700d42a1e">boundaries</a>.push_back(b);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j]-&gt;size(); ++k) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *f = <span class="keyword">new</span> <a class="code" href="../../d7/d76/class_feature.html">Feature</a>;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;    *f = (*<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j])[k]-&gt;<a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">move</a>(a, d);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    b-&gt;push_back(f);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;      }</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    }</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;  }</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;  <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;}</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160; </div>
<div class="line"><a name="l00496"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">  496</a></span>&#160;<a class="code" href="../../db/d16/class_part.html">Part</a> * <a class="code" href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">Part::offset</a> (<span class="keywordtype">double</span> d)<span class="keyword"> const</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *p = <span class="keyword">new</span> <a class="code" href="../../db/d16/class_part.html#abbcb46357cb81167473b1baee9c2d2e0">Part</a>;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;  p-&gt;<a class="code" href="../../db/d16/class_part.html#a2e8faa9bf7fbdc5624bf3739fa5452c5">name</a> = <a class="code" href="../../db/d16/class_part.html#a2e8faa9bf7fbdc5624bf3739fa5452c5">name</a>;</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 3; ++i)</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    p-&gt;<a class="code" href="../../db/d16/class_part.html#a28e3e19633fb8b8e9df5a7b2554be95c">color</a>[i] = <a class="code" href="../../db/d16/class_part.html#a28e3e19633fb8b8e9df5a7b2554be95c">color</a>[i];</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;  p-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> = <a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;  p-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a> = <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;  p-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a> = <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;  for (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i) {</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <a class="code" href="../../dd/d6c/class_slice.html">Slice</a> *slice = <span class="keyword">new</span> <a class="code" href="../../dd/d6c/class_slice.html">Slice</a>(<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;lb, <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;ub);</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    p-&gt;<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.push_back(slice);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries.size(); ++j)</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;      slice-&gt;<a class="code" href="../../dd/d6c/class_slice.html#af7d01356587123198dcc47c700d42a1e">boundaries</a>.push_back(::<a class="code" href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">offset</a>(<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j], d));</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;  }</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;  <span class="keywordflow">return</span> p;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;}</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160; </div>
<div class="line"><a name="l00514"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#af21b38db82a76c34fd5f4e8fff07203e">  514</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../db/d16/class_part.html#af21b38db82a76c34fd5f4e8fff07203e">Part::wrap</a> ()</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>) </div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> &gt; 0.0 &amp;&amp; fabs(<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> - M_PI) &lt; <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>) {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> = - M_PI;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;  }</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> &lt; 0.0 &amp;&amp; fabs(<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> + M_PI) &lt; <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>) {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> = M_PI;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;  }</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;}</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160; </div>
<div class="line"><a name="l00529"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a8b57fc149d2a21377df8abe928c92294">  529</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a8b57fc149d2a21377df8abe928c92294">Part::config</a> (<span class="keywordtype">double</span> mp, <span class="keywordtype">double</span> *c)<span class="keyword"> const</span></div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>) {</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    c[0] = <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>;</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    c[1] = <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    c[2] = mp;</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;  }</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    c[0] = <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a>*mp + <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    c[1] = <a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#a7d779572a08ea4c884ba302d1f0f74c7">s</a>*mp + <a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;    c[2] = 0.0;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;  }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160; </div>
<div class="line"><a name="l00543"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a612cd4b3e8a7197519c26aef52aed881">  543</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a612cd4b3e8a7197519c26aef52aed881">Part::form_profiles</a> (<span class="keywordtype">double</span> acc, <span class="keywordtype">double</span> *z)</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;{</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i) {</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    z[0] = min(z[0], <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;lb);</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;    z[1] = max(z[1], <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;ub);</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a5caad5277cd8b0c6fa72e8ac69584954">profiles</a>.push_back(<a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a>());</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a> &amp;profile = <a class="code" href="../../db/d16/class_part.html#a5caad5277cd8b0c6fa72e8ac69584954">profiles</a>[<a class="code" href="../../db/d16/class_part.html#a5caad5277cd8b0c6fa72e8ac69584954">profiles</a>.size()-1];</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries.size(); ++j) {</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;      profile.push_back(<a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a>());</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;      <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;points = profile[profile.size()-1];</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;      <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;boundary = *<a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j];</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> k = 0; k &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;boundaries[j]-&gt;size(); ++k)</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;    boundary[k]-&gt;discretize(acc, points);</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;    }</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;  }</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;}</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160; </div>
<div class="line"><a name="l00560"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#a1d8c36ec7daf9c9dfee5baf49fd31871">  560</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#a1d8c36ec7daf9c9dfee5baf49fd31871">Part::triangulate</a> ()</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#a5caad5277cd8b0c6fa72e8ac69584954">profiles</a>.size(); ++i)</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <a class="code" href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">regions</a>.push_back(<span class="keyword">new</span> <a class="code" href="../../d1/dd0/classgl_region.html">glRegion</a>(<a class="code" href="../../db/d16/class_part.html#a5caad5277cd8b0c6fa72e8ac69584954">profiles</a>[i], <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;lb, <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;ub));</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;}</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            </div>
<div class="line"><a name="l00566"></a><span class="lineno"><a class="line" href="../../db/d16/class_part.html#ad09fc183848b2fd66b1d2e02cdea08c2">  566</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../db/d16/class_part.html#ad09fc183848b2fd66b1d2e02cdea08c2">Part::triangulate_3d</a> (ostream &amp;ostr)<span class="keyword"> const</span></div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;  vector&lt;double&gt; pts;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>.size(); ++i)</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a78b317ac9df0756b175b6bbc7931c888">triangulate_profile_3d</a>(<a class="code" href="../../db/d16/class_part.html#a5caad5277cd8b0c6fa72e8ac69584954">profiles</a>[i], <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;lb, <a class="code" href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">slices</a>[i]-&gt;ub, pts);</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a9a0d020929f359a8e6da572e17324aa9">write_triangles_vtk</a>(ostr, pts);</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;}</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160; </div>
<div class="line"><a name="l00574"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a78b317ac9df0756b175b6bbc7931c888">  574</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a78b317ac9df0756b175b6bbc7931c888">triangulate_profile_3d</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a> &amp;profile, <span class="keywordtype">double</span> lb, <span class="keywordtype">double</span> ub,</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;                 vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;{</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;  <a class="code" href="../../d2/d91/point_8h.html#a6ab2056ebc3a04f560f9bf1d01688d34">Triangles</a> triangles;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;  <a class="code" href="../../d6/d83/mtriangulate_8_c.html#a1cccac85eafe48b037e31e8a41501b1f">triangulate</a>(profile, triangles);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a5333038f5b79b5832ddb50d25a6955ed">triangulate_profile_tb</a>(triangles, lb, <span class="keyword">false</span>, pts);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a5333038f5b79b5832ddb50d25a6955ed">triangulate_profile_tb</a>(triangles, ub, <span class="keyword">true</span>, pts);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a8ffed94d76c1c9dbb7ba9fe930a7a61e">triangulate_profile_s</a>(profile, lb, ub, pts);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;}</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160; </div>
<div class="line"><a name="l00584"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a5333038f5b79b5832ddb50d25a6955ed">  584</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a5333038f5b79b5832ddb50d25a6955ed">triangulate_profile_tb</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a6ab2056ebc3a04f560f9bf1d01688d34">Triangles</a> &amp;triangles, <span class="keywordtype">double</span> z, <span class="keywordtype">bool</span> ccw, </div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;                 vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;{</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; triangles.size(); ++i) {</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d28/class_triangle.html">Triangle</a> &amp;tr = triangles[i];</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> ptr[3] = {tr.<a class="code" href="../../d2/d28/class_triangle.html#a08d2940a819cebd3321beeebbaef389e">a</a>, tr.<a class="code" href="../../d2/d28/class_triangle.html#af4167c2fce79260b261531d0b0fd3798">b</a>, tr.<a class="code" href="../../d2/d28/class_triangle.html#a972f16cb46805d72e9421b3c42ebc980">c</a>};</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="keywordtype">double</span> sa = <a class="code" href="../../d5/d00/point_8_c.html#ac3461a08db55ea6d28a406f79a317cbd">signedArea</a>(tr.<a class="code" href="../../d2/d28/class_triangle.html#a08d2940a819cebd3321beeebbaef389e">a</a>, tr.<a class="code" href="../../d2/d28/class_triangle.html#af4167c2fce79260b261531d0b0fd3798">b</a>, tr.<a class="code" href="../../d2/d28/class_triangle.html#a972f16cb46805d72e9421b3c42ebc980">c</a>);</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordtype">bool</span> flip = ccw ? sa &lt; 0.0 : sa &gt; 0.0;</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j) {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;      <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;p = flip ? ptr[2-j] : ptr[j];</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, p.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, z, pts);</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    }</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;  }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;}</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160; </div>
<div class="line"><a name="l00599"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a8ffed94d76c1c9dbb7ba9fe930a7a61e">  599</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a8ffed94d76c1c9dbb7ba9fe930a7a61e">triangulate_profile_s</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a> &amp;profile, <span class="keywordtype">double</span> lb, <span class="keywordtype">double</span> ub,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;{</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; profile.size(); ++i) {</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;points = profile[i];</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;    <span class="keywordtype">int</span> n = points.size();</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> a = points[n-1];</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; n; ++j) {</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;      <a class="code" href="../../d0/d69/class_point.html">Point</a> b = points[j];</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;      <span class="keywordflow">if</span> (a != b) {</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(a.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, a.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, lb, pts);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(b.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, b.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, lb, pts);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(b.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, b.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, ub, pts);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(a.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, a.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, lb, pts);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(b.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, b.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, ub, pts);</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(a.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, a.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, ub, pts);</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;      }</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;      a = b;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    }</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;  }</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;}</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160; </div>
<div class="line"><a name="l00621"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">  621</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a> (<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;{</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;  pts.push_back(x);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;  pts.push_back(y);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;  pts.push_back(z);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;}</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160; </div>
<div class="line"><a name="l00628"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a9a0d020929f359a8e6da572e17324aa9">  628</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a9a0d020929f359a8e6da572e17324aa9">write_triangles_vtk</a> (ostream &amp;ostr, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;{</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;  <span class="keywordtype">int</span> nt = pts.size()/9, np = 3*nt, m = 4*nt;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;  ostr &lt;&lt; <span class="stringliteral">&quot;# vtk DataFile Version 3.0&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;vtk output&quot;</span> &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;ASCII&quot;</span> &lt;&lt; endl</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;DATASET POLYDATA&quot;</span> &lt;&lt; endl </div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;POINTS &quot;</span> &lt;&lt; np &lt;&lt; <span class="stringliteral">&quot; float&quot;</span> &lt;&lt; endl;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nt; ++i) {</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 9; ++j)</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;      ostr &lt;&lt; pts[9*i+j] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    ostr &lt;&lt; endl;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;  }</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;  ostr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;POLYGONS &quot;</span> &lt;&lt; nt &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; m &lt;&lt; endl;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; np; i += 3)</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    ostr &lt;&lt; <span class="stringliteral">&quot;3 &quot;</span> &lt;&lt; i &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; i + 1 &lt;&lt; <span class="stringliteral">&quot; &quot;</span> &lt;&lt; i + 2 &lt;&lt; endl;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;  ostr &lt;&lt; endl &lt;&lt; <span class="stringliteral">&quot;CELL_DATA &quot;</span> &lt;&lt; nt &lt;&lt; endl </div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;       &lt;&lt; <span class="stringliteral">&quot;POINT_DATA &quot;</span> &lt;&lt; np &lt;&lt; endl;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;}</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160; </div>
<div class="line"><a name="l00647"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#acd7f2d5bae088bcd36199a667b870764">  647</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#acd7f2d5bae088bcd36199a667b870764">triangulate_fa</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *a, <a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> acc, <span class="keywordtype">double</span> *bbox,</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;             <span class="keywordtype">int</span> axis, <span class="keywordtype">double</span> *aint, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;{</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;  <span class="keywordtype">double</span> fbox[4];</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *free = a-&gt;<a class="code" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">cspace</a>(b, acc, fbox, bbox, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *blocked = <a class="code" href="../../d7/d5f/system_8_c.html#a26844aaf5673452ccde61452e2431248">complement</a>(free, bbox);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;  vector&lt;double&gt; apts;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; blocked-&gt;size(); ++i) {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <a class="code" href="../../d2/d91/point_8h.html#a6ab2056ebc3a04f560f9bf1d01688d34">Triangles</a> triangles;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#ad897483edb41f33a206e531e232ab46e">triangulate_regions</a>(blocked, triangles);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a91d73aeb8c65d58a5b63ac0cf1fe3d95">extrude</a>(triangles, axis, aint, apts);</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;  }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a412742294c60cc4bb6ab155fd8e4d57e">transpose</a>(apts, axis, pts);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(free);</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(blocked);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160; </div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a91d73aeb8c65d58a5b63ac0cf1fe3d95">  664</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a91d73aeb8c65d58a5b63ac0cf1fe3d95">extrude</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a6ab2056ebc3a04f560f9bf1d01688d34">Triangles</a> &amp;triangles, <span class="keywordtype">int</span> axis, <span class="keywordtype">double</span> *aint,</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;          vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;{</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; triangles.size(); ++i) {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d2/d28/class_triangle.html">Triangle</a> &amp;tr = triangles[i];</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> trp[4] = {tr.<a class="code" href="../../d2/d28/class_triangle.html#a08d2940a819cebd3321beeebbaef389e">a</a>, tr.<a class="code" href="../../d2/d28/class_triangle.html#af4167c2fce79260b261531d0b0fd3798">b</a>, tr.<a class="code" href="../../d2/d28/class_triangle.html#a972f16cb46805d72e9421b3c42ebc980">c</a>, tr.<a class="code" href="../../d2/d28/class_triangle.html#a08d2940a819cebd3321beeebbaef389e">a</a>};</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j) {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(trp[j].x, trp[j].y, aint[0], pts);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(trp[j+1].x, trp[j+1].y, aint[0], pts);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(trp[j+1].x, trp[j+1].y, aint[1], pts);</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(trp[j].x, trp[j].y, aint[0], pts);</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(trp[j+1].x, trp[j+1].y, aint[1], pts);</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(trp[j].x, trp[j].y, aint[1], pts);</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> k = 0; k &lt; 2; ++k)</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(trp[j].x, trp[j].y, aint[k], pts);</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;  }</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;}</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160; </div>
<div class="line"><a name="l00684"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a412742294c60cc4bb6ab155fd8e4d57e">  684</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a412742294c60cc4bb6ab155fd8e4d57e">transpose</a> (<span class="keyword">const</span> vector&lt;double&gt; &amp;apts, <span class="keywordtype">int</span> axis, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;{</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;  <span class="keywordtype">int</span> p[3] = {0, 1, 2};</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;  <span class="keywordflow">if</span> (axis == 0) {</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    p[0] = 2;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    p[1] = 0;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;    p[2] = 1;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;  }</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (axis == 1) {</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;    p[1] = 2;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    p[2] = 1;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;  }</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; apts.size()/3; ++i)</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; 3; ++j)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;      pts.push_back(apts[3*i+p[j]]);</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;}</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160; </div>
<div class="line"><a name="l00701"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#af247c0f3c7aca552fa7c1766b0df3a5e">  701</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#af247c0f3c7aca552fa7c1766b0df3a5e">triangulate_patches</a> (<span class="keyword">const</span> <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;a, <span class="keyword">const</span> <a class="code" href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a> &amp;b,</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;              <span class="keywordtype">double</span> dt, <span class="keywordtype">double</span> acc, <span class="keywordtype">int</span> k, ostream &amp;ostr)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;  vector&lt;double&gt; pts;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; a.size(); ++i)</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; b.size(); ++j)</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#aca3072db137030b4e74733c5a2f0b46f">triangulate_patch</a>(a[i], b[j], dt, acc, k, pts);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a9a0d020929f359a8e6da572e17324aa9">write_triangles_vtk</a>(ostr, pts);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;}</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160; </div>
<div class="line"><a name="l00711"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#aca3072db137030b4e74733c5a2f0b46f">  711</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#aca3072db137030b4e74733c5a2f0b46f">triangulate_patch</a> (<a class="code" href="../../d7/d76/class_feature.html">Feature</a> *f, <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *g, <span class="keywordtype">double</span> dt, <span class="keywordtype">double</span> acc,</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;            <span class="keywordtype">int</span> k, ostream &amp;ostr)</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;  vector&lt;double&gt; pts;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#aca3072db137030b4e74733c5a2f0b46f">triangulate_patch</a>(f, g, dt, acc, k, pts);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a9a0d020929f359a8e6da572e17324aa9">write_triangles_vtk</a>(ostr, pts);</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;}</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160; </div>
<div class="line"><a name="l00719"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a7ae26838dc3dbed96a42b5890a96725b">  719</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#aca3072db137030b4e74733c5a2f0b46f">triangulate_patch</a> (<a class="code" href="../../d7/d76/class_feature.html">Feature</a> *f, <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *g, <span class="keywordtype">double</span> dt, <span class="keywordtype">double</span> acc,</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;            <span class="keywordtype">int</span> k, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;{</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;  <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d7/d76/class_feature.html#aedd6dfa40f304f32a757fe76555dbccd">circle</a> &amp;&amp; g-&gt;<a class="code" href="../../d7/d76/class_feature.html#aedd6dfa40f304f32a757fe76555dbccd">circle</a>)</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#adb0daf493d0efd846d00b467be3be6be">triangulate_patch_aa</a>(f, g, dt, acc, k, pts);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;  <span class="keywordflow">else</span> <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d7/d76/class_feature.html#aedd6dfa40f304f32a757fe76555dbccd">circle</a>)</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a70fb68249e675197d9bb29bddbe0cd53">triangulate_patch_al</a>(f, g, dt, k, pts);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;  <span class="keywordflow">else</span></div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a6139aa9001df9395b2266a56e68546b7">triangulate_patch_la</a>(f, g, dt, k, pts);</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;}</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160; </div>
<div class="line"><a name="l00730"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#adb0daf493d0efd846d00b467be3be6be">  730</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#adb0daf493d0efd846d00b467be3be6be">triangulate_patch_aa</a> (<a class="code" href="../../d7/d76/class_feature.html">Feature</a> *arc1, <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *arc2, <span class="keywordtype">double</span> dt, <span class="keywordtype">double</span> acc,</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;               <span class="keywordtype">int</span> k, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;{</div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;  <span class="keywordflow">if</span> (arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a> == 0.0 &amp;&amp; arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a> == 0.0 ||</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;      arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a> == 0.0 &amp;&amp; !arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> ||</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;      arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a> == 0.0 &amp;&amp; !arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a>)</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;  <span class="keywordflow">if</span> (arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a> &gt; 0.0 &amp;&amp; arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a> &gt; 0.0) {</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="keywordtype">double</span> c1 = (arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> ? 1.0 : -1.0)/arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a>;</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    <span class="keywordtype">double</span> c2 = (arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> ? 1.0 : -1.0)/arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a>;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (c1 + c2 &lt;= 0.0)</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;  }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;  <a class="code" href="../../d7/d76/class_feature.html">Feature</a> parts1[2], parts2[2];</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;  <span class="keywordtype">int</span> n1 = arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#ac271e51b5f016e6b334bd7cddaf622c0">split</a>(parts1), n2 = arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#ac271e51b5f016e6b334bd7cddaf622c0">split</a>(parts2);</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n1; ++i)</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; n2; ++j)</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a18e735fdce69e5a2c9ad53855e4f3a67">triangulate_patch_aa_aux</a>(parts1 + i, parts2 + j, dt, acc, k, pts);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;}    </div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160; </div>
<div class="line"><a name="l00750"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a18e735fdce69e5a2c9ad53855e4f3a67">  750</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a18e735fdce69e5a2c9ad53855e4f3a67">triangulate_patch_aa_aux</a> (<a class="code" href="../../d7/d76/class_feature.html">Feature</a> *arc1, <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *arc2, <span class="keywordtype">double</span> dt, <span class="keywordtype">double</span> acc,</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;                   <span class="keywordtype">int</span> k, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;{</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;  <a class="code" href="../../d2/d39/class_angle.html">Angle</a> s1 = arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> ? arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a> : arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#a8f3f851aa3c0447a8120f29febfc2741">nh</a>;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;  <a class="code" href="../../d2/d39/class_angle.html">Angle</a> e1 = arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> ? arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#a8f3f851aa3c0447a8120f29febfc2741">nh</a> : arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;  <a class="code" href="../../d2/d39/class_angle.html">Angle</a> s2 = arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> ? arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a> : arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#a8f3f851aa3c0447a8120f29febfc2741">nh</a>;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;  <a class="code" href="../../d2/d39/class_angle.html">Angle</a> e2 = arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> ? arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#a8f3f851aa3c0447a8120f29febfc2741">nh</a> : arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;  <span class="keywordtype">double</span> th = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(s2.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() - e1.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() + M_PI, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;  <span class="keywordtype">double</span> the = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(e2.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() - s1.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() + M_PI);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;  <span class="keywordflow">if</span> (the &lt;= th)</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    the += 2.0*M_PI;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;  <span class="keywordtype">double</span> t = arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#a83bb82ac301bec8550a7adaf49bd15f6">aa_r</a>(*arc2);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;  <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> points;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;  points.push_back(arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> - <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(th)*arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> + t*s2);</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;  <span class="keywordflow">while</span> (th &lt; the) {</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="keywordtype">double</span> nth = min(th + dt, the);</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">if</span> (th &lt; M_PI &amp;&amp; nth &gt; M_PI)</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;      nth = M_PI;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> npoints;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    <span class="keywordflow">if</span> (nth == the)</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;      npoints.push_back(arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> - <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(nth)*arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> + t*e2);</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;      <a class="code" href="../../d2/d39/class_angle.html">Angle</a> ns1 = s1 + (nth - M_PI), ne1 = e1 + (nth - M_PI);</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;      <a class="code" href="../../d2/d39/class_angle.html">Angle</a> s = ns1.<a class="code" href="../../d2/d39/class_angle.html#a9bfaea5dfe9608a7588b0a061f989b6c">in_arc</a>(s2, e2) ? ns1 : s2;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;      <a class="code" href="../../d2/d39/class_angle.html">Angle</a> e = ne1.<a class="code" href="../../d2/d39/class_angle.html#a9bfaea5dfe9608a7588b0a061f989b6c">in_arc</a>(s2, e2) ? ne1 : e2;</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;      <a class="code" href="../../d0/d69/class_point.html">Point</a> o = arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> - <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(nth)*arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a>;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;      <a class="code" href="../../d7/d76/class_feature.html">Feature</a> nsum(o+t*s, o+t*e, o, t, arc1-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a> &amp;&amp; arc2-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a>);</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;      nsum.<a class="code" href="../../d7/d76/class_feature.html#a113fad92250ae37d9981479b8748e2d6">discretize</a>(acc, npoints);</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;    }</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a49268a9394e3d02ad87b074509075acb">triangulate_strip</a>(points, <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(th, <span class="keyword">true</span>), npoints, <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(nth), k, pts);</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;    points = npoints;</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    th = nth;</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;  }</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;}</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160; </div>
<div class="line"><a name="l00785"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a49268a9394e3d02ad87b074509075acb">  785</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a49268a9394e3d02ad87b074509075acb">triangulate_strip</a> (<a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;lb, <span class="keywordtype">double</span> lth, <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;ub, <span class="keywordtype">double</span> uth,</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;            <span class="keywordtype">int</span> k, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;{</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;  <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> slb, sub;</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;  <span class="keywordtype">int</span> n = k*max(lb.size(), ub.size());</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a5e264d3b479aaf1b8773db93ad89d613">resample</a>(lb, n, slb);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a5e264d3b479aaf1b8773db93ad89d613">resample</a>(ub, n, sub);</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n - 1; ++i) {</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(slb[i].x, slb[i].y, lth, pts);</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(slb[i+1].x, slb[i+1].y, lth, pts);</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(sub[i].x, sub[i].y, uth, pts);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(slb[i+1].x, slb[i+1].y, lth, pts);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(sub[i+1].x, sub[i+1].y, uth, pts);</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a>(sub[i].x, sub[i].y, uth, pts);</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;  }</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160; </div>
<div class="line"><a name="l00802"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a5e264d3b479aaf1b8773db93ad89d613">  802</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a5e264d3b479aaf1b8773db93ad89d613">resample</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;points, <span class="keywordtype">int</span> n, <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;res)</div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;{</div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;  <span class="keywordtype">double</span> d = 0.0;</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;  <span class="keywordtype">int</span> m = points.size() - 1;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m; ++i)</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;    d += points[i].distance(points[i+1]);</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;  d /= n - 1.0;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;  <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> p = points[0];</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;  res.push_back(p);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;  <span class="keywordflow">while</span> (i &lt; m &amp;&amp; (<span class="keywordtype">int</span>) res.size() + 1 &lt; n) {</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;     <span class="keywordtype">double</span> e = d;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="keywordflow">while</span> (<span class="keyword">true</span>) {</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;      <span class="keywordtype">double</span> f = p.<a class="code" href="../../d0/d69/class_point.html#acc3058eeeacca7bab08c0c893ff4af2a">distance</a>(points[i+1]);</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;      <span class="keywordflow">if</span> (e &lt; f) {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    p = p + (e/f)*(points[i+1] - p);</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;      }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;      ++i;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;      e -= f;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;      p = points[i];</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;    res.push_back(p);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;  }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;  res.push_back(points[m]);</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;}</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160; </div>
<div class="line"><a name="l00829"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a70fb68249e675197d9bb29bddbe0cd53">  829</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a70fb68249e675197d9bb29bddbe0cd53">triangulate_patch_al</a> (<a class="code" href="../../d7/d76/class_feature.html">Feature</a> *arc, <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *line, <span class="keywordtype">double</span> dt,</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;               <span class="keywordtype">int</span> k, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;{</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;  <span class="keywordflow">if</span> (!arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;  <span class="keywordtype">double</span> th, the;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;  <span class="keywordflow">if</span> (arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#aa646edd96e2330b819223abe501dd9d0">full_circle</a>()) {</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;    th = - M_PI;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    the = M_PI;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;  }</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    th = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() - line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>.<a class="code" href="../../d2/d39/class_angle.html#a89ceb8b5a8875a955f2b7b3f9397f5a1">inv</a>().<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;    the = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a8f3f851aa3c0447a8120f29febfc2741">nh</a>.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() - line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>.<a class="code" href="../../d2/d39/class_angle.html#a89ceb8b5a8875a955f2b7b3f9397f5a1">inv</a>().<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>());</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;    <span class="keywordflow">if</span> (the &lt; th)</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;      the += 2.0*M_PI;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;  }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> e = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a>*line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a> + line-&gt;<a class="code" href="../../d7/d76/class_feature.html#a4ea96b7b618693e77b2e816b1acdb5d3">t</a>;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> f = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a>*line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a> + line-&gt;<a class="code" href="../../d7/d76/class_feature.html#a4324a8f4c0ca260d38be8be0411a7227">h</a>;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> a = e - <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(th)*arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a>, b = f - <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(th)*arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a>;</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;  <span class="keywordflow">while</span> (th &lt; the) {</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;    <span class="keywordtype">double</span> nth = min(th + dt, the);</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;    <span class="keywordflow">if</span> (th &lt; M_PI &amp;&amp; nth &gt; M_PI)</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;      nth = M_PI;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;    <a class="code" href="../../d2/d39/class_angle.html">Angle</a> anth(nth);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> na = e - anth*arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a>, nb = f - anth*arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a>;</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;    <span class="keywordtype">double</span> thm = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(th, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;    <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> lb, ub;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;    lb.push_back(a);</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;    lb.push_back(b);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;    ub.push_back(na);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;    ub.push_back(nb);</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a49268a9394e3d02ad87b074509075acb">triangulate_strip</a>(lb, thm, ub, nth, k, pts);</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;    th = nth;</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    a = na;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    b = nb;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;  }</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;}</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160; </div>
<div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a6139aa9001df9395b2266a56e68546b7">  866</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a6139aa9001df9395b2266a56e68546b7">triangulate_patch_la</a> (<a class="code" href="../../d7/d76/class_feature.html">Feature</a> *line, <a class="code" href="../../d7/d76/class_feature.html">Feature</a> *arc, <span class="keywordtype">double</span> dt,</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;               <span class="keywordtype">int</span> k, vector&lt;double&gt; &amp;pts)</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;{</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;  <span class="keywordflow">if</span> (!arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">in</a>) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;  <span class="keywordtype">double</span> th, the;</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;  <span class="keywordflow">if</span> (arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#aa646edd96e2330b819223abe501dd9d0">full_circle</a>()) {</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    th = - M_PI;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    the = M_PI;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;  }</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    th = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() - line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>.<a class="code" href="../../d2/d39/class_angle.html#a89ceb8b5a8875a955f2b7b3f9397f5a1">inv</a>().<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>(), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    the = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a8f3f851aa3c0447a8120f29febfc2741">nh</a>.<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>() - line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a>.<a class="code" href="../../d2/d39/class_angle.html#a89ceb8b5a8875a955f2b7b3f9397f5a1">inv</a>().<a class="code" href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">angle</a>());</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="keywordflow">if</span> (the &lt; th)</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;      the += 2.0*M_PI;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;  }</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> e = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a>*line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a> + line-&gt;<a class="code" href="../../d7/d76/class_feature.html#a4ea96b7b618693e77b2e816b1acdb5d3">t</a>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> f = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">r</a>*line-&gt;<a class="code" href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">nt</a> + line-&gt;<a class="code" href="../../d7/d76/class_feature.html#a4324a8f4c0ca260d38be8be0411a7227">h</a>;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> a = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> - <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(th)*e, b = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> - <a class="code" href="../../d2/d39/class_angle.html">Angle</a>(th)*f;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;  <span class="keywordflow">while</span> (th &lt; the) {</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="keywordtype">double</span> nth = min(th + dt, the);</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    <span class="keywordflow">if</span> (th &lt; M_PI &amp;&amp; nth &gt; M_PI)</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;      nth = M_PI;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <a class="code" href="../../d2/d39/class_angle.html">Angle</a> anth(nth);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> na = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> - anth*e, nb = arc-&gt;<a class="code" href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">o</a> - anth*f;</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="keywordtype">double</span> thm = <a class="code" href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a>(th, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> lb, ub;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;    lb.push_back(a);</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    lb.push_back(b);</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    ub.push_back(na);</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    ub.push_back(nb);</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a49268a9394e3d02ad87b074509075acb">triangulate_strip</a>(lb, thm, ub, nth, k, pts);</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    th = nth;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;    a = na;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;    b = nb;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;  }</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;}</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160; </div>
<div class="line"><a name="l00903"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#aed08f5587c0034df7b6b210a92df7ef3">  903</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#aed08f5587c0034df7b6b210a92df7ef3">sampled_cspace</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *a, <a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> ths, <span class="keywordtype">double</span> the, </div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;             <span class="keywordtype">double</span> dt, <span class="keywordtype">double</span> acc, <span class="keywordtype">int</span> k, ostream &amp;ostr)</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;{</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;  vector&lt;double&gt; pts;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> o;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;  <span class="keywordtype">double</span> bbox[4];</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;  <span class="keywordtype">double</span> th = ths;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *ra = a-&gt;<a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">move</a>(th, o);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *reg = ra-&gt;<a class="code" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">cspace</a>(b, acc, bbox, 0);</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;  <span class="keywordflow">while</span> (th &lt; the) {</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="keywordtype">double</span> nth = min(th + dt, M_PI);</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="keyword">delete</span> ra;</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    ra = a-&gt;<a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">move</a>(nth, o);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;    <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *nreg = ra-&gt;<a class="code" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">cspace</a>(b, acc, bbox, 0);</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordtype">int</span> m = min(reg-&gt;size(), nreg-&gt;size());</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; m; ++i) {</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;      <span class="keywordtype">int</span> j = i == 0 ? 1 : 0;</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;      <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> rb0, nrb0;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a685e86f3b4b43e535993aba6f6eb0c91">reflect_points</a>(reg-&gt;at(i)-&gt;boundary[j], rb0);</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a685e86f3b4b43e535993aba6f6eb0c91">reflect_points</a>(nreg-&gt;at(i)-&gt;boundary[j], nrb0);</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a49268a9394e3d02ad87b074509075acb">triangulate_strip</a>(rb0, th, nrb0, nth, k, pts);</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    }</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(reg);</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    th = nth;</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    reg = nreg;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;  }</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;  <span class="keyword">delete</span> ra;</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(reg);</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a9a0d020929f359a8e6da572e17324aa9">write_triangles_vtk</a>(ostr, pts);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;}</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160; </div>
<div class="line"><a name="l00934"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a586f2871b7d3ca2f661d636e3aadf286">  934</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a586f2871b7d3ca2f661d636e3aadf286">sliced_cspace</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *a, <a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> ths, <span class="keywordtype">double</span> the, </div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;            <span class="keywordtype">double</span> dt, <span class="keywordtype">double</span> acc, ostream &amp;ostr)</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;{</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> o;</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;  <span class="keywordtype">double</span> bbox[4];</div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;  <span class="keywordtype">double</span> th = ths;</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;  <span class="keywordflow">while</span> (th &lt; the) {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;    <a class="code" href="../../db/d16/class_part.html">Part</a> *ra = a-&gt;<a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">move</a>(th, o);</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;    <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *reg = ra-&gt;<a class="code" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">cspace</a>(b, acc, bbox, 0);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;    ostr &lt;&lt; reg-&gt;size() &lt;&lt; endl;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; reg-&gt;size(); ++i) {</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;      <a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a> prof;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#afeae786c00344bcd983ec5aaa33c46f6">reflect_profile</a>(reg-&gt;at(i)-&gt;boundary, prof);</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;      <a class="code" href="../../d5/d00/point_8_c.html#a516c6d77c1942485e204d922964ff448">write_profile</a>(prof, ostr);</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;    }</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    <span class="keyword">delete</span> ra;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(reg);</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    th = min(th + dt, M_PI);</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;  }</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;}</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160; </div>
<div class="line"><a name="l00955"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a685e86f3b4b43e535993aba6f6eb0c91">  955</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a685e86f3b4b43e535993aba6f6eb0c91">reflect_points</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;pts, <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;rpts)</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;{</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; pts.size(); ++i) {</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;p = pts[i];</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    rpts.push_back(<a class="code" href="../../d0/d69/class_point.html">Point</a>(p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>, - p.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>));</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;  }</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;}</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160; </div>
<div class="line"><a name="l00963"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#afeae786c00344bcd983ec5aaa33c46f6">  963</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#afeae786c00344bcd983ec5aaa33c46f6">reflect_profile</a> (<span class="keyword">const</span> <a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a> &amp;prof, <a class="code" href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a> &amp;rprof)</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;{</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; prof.size(); ++i) {</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> pts;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a685e86f3b4b43e535993aba6f6eb0c91">reflect_points</a>(prof[i], pts);</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    rprof.push_back(pts);</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;  }</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;}</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160; </div>
<div class="line"><a name="l00972"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a7495626132b6c7a7b1b7320fe34f571a">  972</a></span>&#160;<a class="code" href="../../d7/d76/class_feature.html">Feature</a> * <a class="code" href="../../d7/d5f/system_8_c.html#a7495626132b6c7a7b1b7320fe34f571a">read_feature</a> (istream &amp;istr, <span class="keyword">const</span> <a class="code" href="../../d2/d39/class_angle.html">Angle</a> &amp;th)</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;{</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;  <span class="keywordtype">int</span> index, circle;</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> t, h;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;  <span class="keywordtype">bool</span> in;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;  istr &gt;&gt; index &gt;&gt; circle &gt;&gt; t &gt;&gt; h &gt;&gt; in;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;  <span class="keywordflow">if</span> (!circle)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d7/d76/class_feature.html">Feature</a>(th*t, th*h, in);</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> o;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;  <span class="keywordtype">double</span> r, sa, ea;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;  istr &gt;&gt; o &gt;&gt; r &gt;&gt; sa &gt;&gt; ea;</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">new</span> <a class="code" href="../../d7/d76/class_feature.html">Feature</a>(th*t, th*h, th*o, r, in);</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;}</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160; </div>
<div class="line"><a name="l00986"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#abc261e01d8f1e11eebaa933f9f6890ab">  986</a></span>&#160;<a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> * <a class="code" href="../../d7/d5f/system_8_c.html#abc261e01d8f1e11eebaa933f9f6890ab">intersection</a> (<span class="keyword">const</span> <a class="code" href="../../dc/db2/system_8h.html#a5f3ef89401c17b2ca7277264fe3be418">RegionsList</a> &amp;rlist, <span class="keywordtype">double</span> *bbox)</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;{</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;  <span class="keywordtype">int</span> n = rlist.size();</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i)</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="keywordflow">if</span> (!rlist[i])</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;      <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;  <a class="code" href="../../d5/d59/arrange_8h.html#ac3b61278bc7e26264938b4f2b07a4b96">Segments</a> segments;</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i) {</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;    <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *ri = rlist[i];</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; ri-&gt;size(); ++j)</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;      <a class="code" href="../../d7/d5f/system_8_c.html#a660c3a3ae325298d0792a433ab9c9683">region_segments</a>(ri-&gt;at(j), bbox, segments);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;  }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;  <span class="keywordtype">bool</span> brot = bbox[2] == - M_PI &amp;&amp; bbox[3] == M_PI;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;  <a class="code" href="../../d6/d39/cs_8_c.html#a482936b55574b568da61cb5eada15921">form_curves_bbox</a>(brot, bbox, segments);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;  <a class="code" href="../../d8/d46/class_arrangement.html">Arrangement</a> *arr = <a class="code" href="../../d0/d11/arrange_8_c.html#a8f0f410db8738d9121c7b0a2629abd5d">arrange</a>(segments);</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;  <a class="code" href="../../d5/d2a/class_face.html">Face</a> *f0 = 0;</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> p0;</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>.size(); ++i) {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;    <a class="code" href="../../d5/d2a/class_face.html">Face</a> *fi = arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>[i];</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;    <a class="code" href="../../df/d6c/class_region.html">Region</a> ri;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;    fi-&gt;<a class="code" href="../../d5/d2a/class_face.html#a3827ab35011657d59b73d5c1603dbe27">traverse</a>(ri.<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>);</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="keywordflow">if</span> (ri.<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[0].size() &gt;= 3 &amp;&amp; ri.<a class="code" href="../../df/d6c/class_region.html#ab694b0cf7e7ce0eb31b2d8b93201b6b9">area</a>() &gt; <a class="code" href="../../dc/db2/system_8h.html#afde0838293fd6db8bf81af99282a4f23">MINAREA</a>) {</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;      f0 = fi;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;      p0 = ri.<a class="code" href="../../df/d6c/class_region.html#adefc4eeb2fc71edce16765fadb188f54">interior_point</a>();</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;    }</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;  }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;  <span class="keywordflow">if</span> (f0 == 0)</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;  <span class="keywordtype">int</span> cn0 = 0;</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; n; ++i)</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; rlist[i]-&gt;size(); ++j)</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;      <span class="keywordflow">if</span> (rlist[i]-&gt;at(j)-&gt;<a class="code" href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">contains</a>(p0)) {</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    ++cn0;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;      }</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;  arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#ac8aba3d8b28ba91cc00caaceac51d010">set_crossing_numbers</a>(f0, cn0);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *regions = <span class="keyword">new</span> <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a>;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>.size(); ++i) {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <a class="code" href="../../d5/d2a/class_face.html">Face</a> *f = arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>[i];</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d5/d2a/class_face.html#a0a3759b988f573101e07e9ea20c66a04">cn</a> == n) {</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;      <a class="code" href="../../df/d6c/class_region.html">Region</a> *r = <span class="keyword">new</span> <a class="code" href="../../df/d6c/class_region.html">Region</a>;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;      f-&gt;<a class="code" href="../../d5/d2a/class_face.html#a3827ab35011657d59b73d5c1603dbe27">traverse</a>(r-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;      regions-&gt;push_back(r);</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;  }</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;  <span class="keyword">delete</span> arr;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;  <a class="code" href="../../d0/d11/arrange_8_c.html#ad281dbb75f898810d2d7ab25fbabbe98">delete_segments</a>(segments);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;  <span class="keywordflow">return</span> regions;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;}</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160; </div>
<div class="line"><a name="l01037"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a660c3a3ae325298d0792a433ab9c9683"> 1037</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#a660c3a3ae325298d0792a433ab9c9683">region_segments</a> (<a class="code" href="../../df/d6c/class_region.html">Region</a> *region, <span class="keywordtype">double</span> *bbox, <a class="code" href="../../d5/d59/arrange_8h.html#ac3b61278bc7e26264938b4f2b07a4b96">Segments</a> &amp;segs)</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;{</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; region-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>.size(); ++i) {</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;points = region-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[i];</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <a class="code" href="../../d0/d69/class_point.html">Point</a> t = *(points.end()-1);</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; points.size(); ++j) {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;      <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;h = points[j];</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d7/d5f/system_8_c.html#a82cbf5939ab5e9004e60e80823669680">bbox_segment</a>(t, h, bbox))</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;    segs.push_back(<span class="keyword">new</span> <a class="code" href="../../dd/dd2/class_segment.html">Segment</a>(h, t, <span class="keyword">true</span>));</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;      t = h;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;  }</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;}</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160; </div>
<div class="line"><a name="l01051"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a82cbf5939ab5e9004e60e80823669680"> 1051</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d7/d5f/system_8_c.html#a82cbf5939ab5e9004e60e80823669680">bbox_segment</a> (<span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;t, <span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;h, <span class="keywordtype">double</span> *bbox)</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;{</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;  <span class="keywordflow">return</span> t.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> == h.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> &amp;&amp; (t.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> == bbox[0] || t.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> == bbox[1]) ||</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    t.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> == h.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> &amp;&amp; (t.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> == bbox[2] || t.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> == bbox[3]);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;}</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160; </div>
<div class="line"><a name="l01057"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a26844aaf5673452ccde61452e2431248"> 1057</a></span>&#160;<a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> * <a class="code" href="../../d7/d5f/system_8_c.html#a26844aaf5673452ccde61452e2431248">complement</a> (<a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *regions, <span class="keywordtype">double</span> *bbox)</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;{</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;  <a class="code" href="../../d5/d59/arrange_8h.html#ac3b61278bc7e26264938b4f2b07a4b96">Segments</a> segments;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; regions &amp;&amp; i &lt; regions-&gt;size(); ++i)</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    <a class="code" href="../../d7/d5f/system_8_c.html#a660c3a3ae325298d0792a433ab9c9683">region_segments</a>(regions-&gt;at(i), bbox, segments);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;  <span class="keywordtype">bool</span> brot = bbox[2] == - M_PI &amp;&amp; bbox[3] == M_PI;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;  <a class="code" href="../../d6/d39/cs_8_c.html#a482936b55574b568da61cb5eada15921">form_curves_bbox</a>(brot, bbox, segments);</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;  <a class="code" href="../../d8/d46/class_arrangement.html">Arrangement</a> *arr = <a class="code" href="../../d0/d11/arrange_8_c.html#a8f0f410db8738d9121c7b0a2629abd5d">arrange</a>(segments);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;  <a class="code" href="../../d5/d2a/class_face.html">Face</a> *f0 = 0;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> p0;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>.size(); ++i) {</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    <a class="code" href="../../d5/d2a/class_face.html">Face</a> *fi = arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>[i];</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <a class="code" href="../../df/d6c/class_region.html">Region</a> ri;</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;    fi-&gt;<a class="code" href="../../d5/d2a/class_face.html#a3827ab35011657d59b73d5c1603dbe27">traverse</a>(ri.<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>);</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;    <span class="keywordflow">if</span> (ri.<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[0].size() &gt;= 3 &amp;&amp; ri.<a class="code" href="../../df/d6c/class_region.html#ab694b0cf7e7ce0eb31b2d8b93201b6b9">area</a>() &gt; <a class="code" href="../../dc/db2/system_8h.html#afde0838293fd6db8bf81af99282a4f23">MINAREA</a>) {</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;      f0 = fi;</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;      p0 = ri.<a class="code" href="../../df/d6c/class_region.html#adefc4eeb2fc71edce16765fadb188f54">interior_point</a>();</div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;    }</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;  }</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;  <span class="keywordflow">if</span> (f0 == 0)</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;  <span class="keywordtype">int</span> cn0 = 0;</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; regions &amp;&amp; i &lt; regions-&gt;size(); ++i)</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (regions-&gt;at(i)-&gt;contains(p0)) {</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;      cn0 = 1;</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;      <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;    }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;  arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#ac8aba3d8b28ba91cc00caaceac51d010">set_crossing_numbers</a>(f0, cn0);</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *res = <span class="keyword">new</span> <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a>;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>.size(); ++i) {</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;    <a class="code" href="../../d5/d2a/class_face.html">Face</a> *f = arr-&gt;<a class="code" href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">faces</a>[i];</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> (f-&gt;<a class="code" href="../../d5/d2a/class_face.html#a0a3759b988f573101e07e9ea20c66a04">cn</a> == 0) {</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;      <a class="code" href="../../df/d6c/class_region.html">Region</a> *r = <span class="keyword">new</span> <a class="code" href="../../df/d6c/class_region.html">Region</a>;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;      f-&gt;<a class="code" href="../../d5/d2a/class_face.html#a3827ab35011657d59b73d5c1603dbe27">traverse</a>(r-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>);</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;      res-&gt;push_back(r);</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;  }</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;  <span class="keyword">delete</span> arr;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;  <a class="code" href="../../d0/d11/arrange_8_c.html#ad281dbb75f898810d2d7ab25fbabbe98">delete_segments</a>(segments);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;  <span class="keywordflow">return</span> res;</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;}</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160; </div>
<div class="line"><a name="l01100"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#abde8f4ad0e1ec84b695a58082c1b3f01"> 1100</a></span>&#160;<a class="code" href="../../d2/d49/class_pair.html#abde8f4ad0e1ec84b695a58082c1b3f01">Pair::~Pair</a> () </div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;{ </div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;  <span class="keyword">delete</span> <a class="code" href="../../d2/d49/class_pair.html#aa1c3e50c089f5659a89f294b9340e11c">ra</a>; </div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;  <span class="keyword">delete</span> <a class="code" href="../../d2/d49/class_pair.html#a7cd62817e1d68b08b51f06bc1c728521">tb</a>;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(<a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(<a class="code" href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">czone</a>);</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a8bc319d771a13e5e756a8daabde998b9">delete_glRegions</a>(<a class="code" href="../../d2/d49/class_pair.html#a7fc04b6c2a37e780211befa1c7c2d2d3">glregions</a>);</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a8bc319d771a13e5e756a8daabde998b9">delete_glRegions</a>(<a class="code" href="../../d2/d49/class_pair.html#a9e65848b16c0ef163d2f00426c5083d4">glczone</a>);</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;}</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160; </div>
<div class="line"><a name="l01110"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#a2a4fba2072eb8db514b90db26d412b38"> 1110</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d49/class_pair.html#a2a4fba2072eb8db514b90db26d412b38">Pair::set_region</a> ()</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;{</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> p(<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>, <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>), q;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;  <span class="keywordtype">double</span> d = <a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;at(0)-&gt;distance(p, <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>, q);</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a> = <a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;at(0);</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 1; i &lt; <a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;size() &amp;&amp; d &gt; 0.0; ++i) {</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;    <span class="keywordtype">int</span> edgei[2];</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;    <span class="keywordtype">double</span> di = <a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;at(i)-&gt;distance(p, edgei, q);</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;    <span class="keywordflow">if</span> (di &lt; d) {</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;      <a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a> = <a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;at(i);</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;      d = di;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;      <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[0] = edgei[0];</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;      <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1] = edgei[1];</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;    }</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;  }</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;}</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160; </div>
<div class="line"><a name="l01127"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#a9df82156cc17fbfaf631684cfffdd77d"> 1127</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/d49/class_pair.html#a9df82156cc17fbfaf631684cfffdd77d">Pair::set_velocity</a> (<span class="keywordtype">bool</span> aflag, <span class="keywordtype">bool</span> &amp;blocked)</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;{</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;  blocked = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;  <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;loop = <a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a>-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[0]];</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;  <span class="keywordtype">int</span> n = loop.size();</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> p = loop[<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]];</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;  <span class="keywordflow">if</span> (p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> == <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &amp;&amp; p.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> == <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>) {</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <a class="code" href="../../d2/d39/class_angle.html">Angle</a> v(<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>, <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>), <a class="code" href="../../d2/d49/class_pair.html#a7cd62817e1d68b08b51f06bc1c728521">tb</a>(loop[(<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]-1)%n] - p), tf(loop[(<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]+1)%n] - p);</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <span class="keywordflow">if</span> (tf*<a class="code" href="../../d2/d49/class_pair.html#a7cd62817e1d68b08b51f06bc1c728521">tb</a> &gt; 0.0 &amp;&amp; v%tf &lt; 0.0)</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;      <span class="keywordflow">if</span> (v%<a class="code" href="../../d2/d49/class_pair.html#a7cd62817e1d68b08b51f06bc1c728521">tb</a> &lt; 0.0) {</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> = <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> = 0.0;</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    blocked = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;      }</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1] = (<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]-1)%n;</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;    p = loop[<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]];</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;      }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;  }</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;f = loop[(<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]+1)%n];</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;  <a class="code" href="../../d2/d39/class_angle.html">Angle</a> nf(p.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> - f.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>, f.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> - p.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;  <span class="keywordtype">double</span> kf = <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>*nf.c + <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>*nf.s;</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;  <span class="keywordflow">if</span> (kf &gt; 0.0) {</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html#a1235684bea16349a06768d6e3fa4f29c">free</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;  }</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#a8f7d9d45eca93712acf40c5efd5f7b6a">traversed</a> &amp;&amp; <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#a8f7d9d45eca93712acf40c5efd5f7b6a">traversed</a>)</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;  <span class="keywordflow">if</span> (aflag &amp;&amp; fabs(nf.s) &lt; <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>) {</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> = 0.0;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;  }</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;  <span class="keywordflow">if</span> (aflag) {</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> -= kf/nf.s;</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;  }</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;  <span class="keywordflow">if</span> (fabs(nf.c) &lt; <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a>) {</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> = 0.0;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;  }</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> -= kf/nf.c;</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160; </div>
<div class="line"><a name="l01171"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#ad7ea6910aa819052a38864cc6fb86bcd"> 1171</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/d49/class_pair.html#ad7ea6910aa819052a38864cc6fb86bcd">Pair::next_event</a> (<a class="code" href="../../dd/d15/class_simulate_event.html">SimulateEvent</a> &amp;event)</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;{</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> == 0.0 &amp;&amp; <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a> == 0.0)</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> p(<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>, <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>), v(<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>, <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">v</a>);</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;  <span class="keyword">event</span>.pair = <span class="keyword">this</span>;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a1235684bea16349a06768d6e3fa4f29c">free</a>) {</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="keyword">event</span>.edge[0] = <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[0];</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="keyword">event</span>.edge[1] = <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1];</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a>-&gt;<a class="code" href="../../df/d6c/class_region.html#a2fb14ad246a8fcc0d85f5869a4034726">ray_intersection</a>(p, v, event.<a class="code" href="../../dd/d15/class_simulate_event.html#a2846dfe4c7087ca79507fef705e7de88">time</a>, event.<a class="code" href="../../dd/d15/class_simulate_event.html#a2a0f690d7edf47d84c55169de527f1d7">p</a>, event.<a class="code" href="../../dd/d15/class_simulate_event.html#a539c70a32e80ffb5df64326d5987de1c">edge</a>)) {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;      <span class="keyword">event</span>.time = 0.0;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;      <a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a>-&gt;<a class="code" href="../../df/d6c/class_region.html#ab5287df366088be5b55aeb7efe55cc98">distance</a>(p, event.<a class="code" href="../../dd/d15/class_simulate_event.html#a539c70a32e80ffb5df64326d5987de1c">edge</a>, event.<a class="code" href="../../dd/d15/class_simulate_event.html#a2a0f690d7edf47d84c55169de527f1d7">p</a>);</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;    }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;  }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;  <span class="keywordtype">int</span> n = <a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a>-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[0]].size();</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> t, h;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html#ab7a627f2ea1c46b1012712f48b16f531">contact_segment</a>(t, h);</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;  <span class="keywordtype">double</span> k = v%h - v%t;</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;  <span class="keywordflow">if</span> (k == 0.0)</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;  <span class="keyword">event</span>.edge[0] = <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[0];</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;  <span class="keywordflow">if</span> (k &gt; 0.0) {</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="keyword">event</span>.p = h;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keyword">event</span>.edge[1] = (<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1] + 1)%n;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;  }</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;  <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;    <span class="keyword">event</span>.p = t;</div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;    <span class="keyword">event</span>.edge[1] = (<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1] - 1)%n;</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;  }</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;  <span class="keyword">event</span>.time = fabs(v.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a>) &gt; fabs(v.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>) ? (<span class="keyword">event</span>.p.x - p.x)/v.<a class="code" href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">x</a> </div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;    : (event.<a class="code" href="../../dd/d15/class_simulate_event.html#a2a0f690d7edf47d84c55169de527f1d7">p</a>.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a> - p.y)/v.<a class="code" href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">y</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">event</span>.time &gt;= 0.0;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;}</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160; </div>
<div class="line"><a name="l01206"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#a548f3cd06f2f66be77b0731e0d27bab8"> 1206</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d49/class_pair.html#a548f3cd06f2f66be77b0731e0d27bab8">Pair::wrap</a> ()</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;{</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html#a2a4fba2072eb8db514b90db26d412b38">set_region</a>();</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;  <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;loop = <a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a>-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[0]];</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;  <span class="keywordtype">int</span> n = loop.size(), i = <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1];</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;  <span class="keywordflow">if</span> (fabs(<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>) == M_PI)</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    <span class="keywordflow">while</span> (loop[i].x == <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &amp;&amp; loop[(i+1)%n].x == <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>) {</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> == M_PI ? <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &gt;= loop[(i+1)%n].y : <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &lt;= loop[(i+1)%n].y)</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    i = (i+1)%n;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> == M_PI ? <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &lt;= loop[i].y : <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &gt;= loop[i].y)</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    i = (i-1)%n;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;    }</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;  <span class="keywordflow">if</span> (fabs(<a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>) == M_PI)</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;    <span class="keywordflow">while</span> (loop[i].y == <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &amp;&amp; loop[(i+1)%n].y == <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a>) {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> == M_PI ? <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &lt;= loop[(i+1)%n].x : <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &gt;= loop[(i+1)%n].x)</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;    i = (i+1)%n;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;      <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> == M_PI ? <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &gt;= loop[i].x : <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">x</a> &lt;= loop[i].x)</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;    i = (i-1)%n;</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;      <span class="keywordflow">else</span></div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    }</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1] = i;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;}</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160; </div>
<div class="line"><a name="l01232"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#ab7a627f2ea1c46b1012712f48b16f531"> 1232</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d49/class_pair.html#ab7a627f2ea1c46b1012712f48b16f531">Pair::contact_segment</a> (<a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;t, <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;h)<span class="keyword"> const</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;  <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;loop = <a class="code" href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">region</a>-&gt;<a class="code" href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">boundary</a>[<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[0]];</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;  <span class="keywordtype">int</span> n = loop.size();</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;  t = loop[<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]];</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;  h = loop[(<a class="code" href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">edge</a>[1]+1)%n];</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;}</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160; </div>
<div class="line"><a name="l01240"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#ac6b9ee78ab752f31b84380f43fcc2d09"> 1240</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/d49/class_pair.html#ac6b9ee78ab752f31b84380f43fcc2d09">Pair::form_czone</a> (<span class="keywordtype">double</span> d)</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;{</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;  <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">czone</a>)</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(<a class="code" href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">czone</a>);</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html#aef3f1f2668c12a126e31a90e173a0f4c">ctriangles</a>.clear();</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#a8bc319d771a13e5e756a8daabde998b9">delete_glRegions</a>(<a class="code" href="../../d2/d49/class_pair.html#a9e65848b16c0ef163d2f00426c5083d4">glczone</a>);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *aa = <a class="code" href="../../d2/d49/class_pair.html#aa1c3e50c089f5659a89f294b9340e11c">ra</a> ? <a class="code" href="../../d2/d49/class_pair.html#aa1c3e50c089f5659a89f294b9340e11c">ra</a> : <a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>, *bb = <a class="code" href="../../d2/d49/class_pair.html#a7cd62817e1d68b08b51f06bc1c728521">tb</a> ? <a class="code" href="../../d2/d49/class_pair.html#a7cd62817e1d68b08b51f06bc1c728521">tb</a> : <a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *ap = aa-&gt;<a class="code" href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">offset</a>(d), *am = aa-&gt;<a class="code" href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">offset</a>(-d),</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    *bp = bb-&gt;<a class="code" href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">offset</a>(d), *bm = bb-&gt;<a class="code" href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">offset</a>(-d);</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;  <span class="keywordtype">double</span> bboxp[4], bboxm[4];</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i)</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    bboxp[i] = bboxm[i] = <a class="code" href="../../d2/d49/class_pair.html#a1f622d7ae291ff9c004dacd4f12cad1f">bbox</a>[i];</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *rp = ap-&gt;<a class="code" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">cspace</a>(bp, <a class="code" href="../../d2/d49/class_pair.html#afdfa8cbc50d7581dcb664fafb6a9885e">acc</a>, bboxp, <a class="code" href="../../d2/d49/class_pair.html#a1f622d7ae291ff9c004dacd4f12cad1f">bbox</a>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *rm = am-&gt;cspace(bm, <a class="code" href="../../d2/d49/class_pair.html#afdfa8cbc50d7581dcb664fafb6a9885e">acc</a>, bboxm, <a class="code" href="../../d2/d49/class_pair.html#a1f622d7ae291ff9c004dacd4f12cad1f">bbox</a>);</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;  <a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *rpc = <a class="code" href="../../d7/d5f/system_8_c.html#a26844aaf5673452ccde61452e2431248">complement</a>(rp, <a class="code" href="../../d2/d49/class_pair.html#a1f622d7ae291ff9c004dacd4f12cad1f">bbox</a>);</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;  <a class="code" href="../../dc/db2/system_8h.html#a5f3ef89401c17b2ca7277264fe3be418">RegionsList</a> rl;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;  rl.push_back(rpc);</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;  rl.push_back(rm);</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">czone</a> = <a class="code" href="../../d7/d5f/system_8_c.html#abc261e01d8f1e11eebaa933f9f6890ab">intersection</a>(rl, <a class="code" href="../../d2/d49/class_pair.html#a1f622d7ae291ff9c004dacd4f12cad1f">bbox</a>);</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;  <a class="code" href="../../d7/d5f/system_8_c.html#ad897483edb41f33a206e531e232ab46e">triangulate_regions</a>(<a class="code" href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">czone</a>, <a class="code" href="../../d2/d49/class_pair.html#aef3f1f2668c12a126e31a90e173a0f4c">ctriangles</a>);</div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">czone</a>-&gt;size(); ++i)</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html#a9e65848b16c0ef163d2f00426c5083d4">glczone</a>.push_back(<span class="keyword">new</span> <a class="code" href="../../d1/dd0/classgl_region.html">glRegion</a>(<a class="code" href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">czone</a>-&gt;at(i)-&gt;boundary, 0.0, 0.0));</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(rp);</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(rm);</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;  <a class="code" href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a>(rpc);</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;  <span class="keyword">delete</span> ap;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;  <span class="keyword">delete</span> am;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;  <span class="keyword">delete</span> bp;</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;  <span class="keyword">delete</span> bm;</div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;}</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160; </div>
<div class="line"><a name="l01271"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#a24ad3a21451a5c8a61ec91f9bbaef4d5"> 1271</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/d49/class_pair.html#a24ad3a21451a5c8a61ec91f9bbaef4d5">Pair::path</a> (<span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;p, <span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;q, <a class="code" href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a> &amp;res,</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;         <span class="keywordtype">bool</span> optimize)<span class="keyword"> const</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;  <a class="code" href="../../df/d6c/class_region.html">Region</a> *rp = <a class="code" href="../../d2/d49/class_pair.html#ac4486f844217924898cb7d34f536cea4">enclosing_region</a>(p);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;  <span class="keywordflow">if</span> (!rp)</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;  <span class="keywordflow">return</span> rp-&gt;<a class="code" href="../../df/d6c/class_region.html#a944dea943cdaa7b9bf7f38fe88d62f5f">path</a>(p, q, res);</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;}</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160; </div>
<div class="line"><a name="l01280"></a><span class="lineno"><a class="line" href="../../d2/d49/class_pair.html#ac4486f844217924898cb7d34f536cea4"> 1280</a></span>&#160;<a class="code" href="../../df/d6c/class_region.html">Region</a> * <a class="code" href="../../d2/d49/class_pair.html#ac4486f844217924898cb7d34f536cea4">Pair::enclosing_region</a> (<span class="keyword">const</span> <a class="code" href="../../d0/d69/class_point.html">Point</a> &amp;p)<span class="keyword"> const</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>)</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;size(); ++i)</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;at(i)-&gt;contains(p))</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;      <span class="keywordflow">return</span> <a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;at(i);</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;  <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;}</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160; </div>
<div class="line"><a name="l01290"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#a327c62f0ea1caf8972a3ec36efa06d6d"> 1290</a></span>&#160;<a class="code" href="../../d2/d49/class_pair.html">Pair</a> * <a class="code" href="../../d7/d5f/system_8_c.html#a327c62f0ea1caf8972a3ec36efa06d6d">form_pair</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *a, <a class="code" href="../../db/d16/class_part.html">Part</a> *b, <span class="keywordtype">double</span> acc, <span class="keywordtype">double</span> *bbox, <span class="keywordtype">bool</span> usebbox)</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;{</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;  <span class="keywordflow">if</span> (!a-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> &amp;&amp; (b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> || a-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a> != 1.0)) {</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;    <a class="code" href="../../db/d16/class_part.html">Part</a> *temp = a;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    a = b;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;    b = temp;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;  }</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;  <span class="keywordflow">if</span> (!(a-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> || b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> || a-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a> == 1.0 &amp;&amp; b-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#a7d779572a08ea4c884ba302d1f0f74c7">s</a> == 1.0))</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;  <a class="code" href="../../d0/d69/class_point.html">Point</a> o(0.0, 0.0);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *ra = (!a-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> || b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> || b-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>.<a class="code" href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">c</a> == 1.0) ? 0 : a-&gt;<a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">move</a>(- b-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>, o);</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *tb = b-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? 0 : </div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    (a-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a> ? b-&gt;<a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">move</a>(- b-&gt;<a class="code" href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">t</a>, b-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a> - a-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>) : b-&gt;<a class="code" href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">move</a>(0.0, b-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a> - a-&gt;<a class="code" href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">o</a>));</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html">Pair</a> *pair = <span class="keyword">new</span> <a class="code" href="../../d2/d49/class_pair.html">Pair</a>(a, b, ra, tb, acc);</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;  <a class="code" href="../../db/d16/class_part.html">Part</a> *pa = ra ? ra : a, *pb = tb ? tb : b;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;  pair-&gt;<a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a> = pa-&gt;<a class="code" href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">cspace</a>(pb, acc, pair-&gt;<a class="code" href="../../d2/d49/class_pair.html#a1f622d7ae291ff9c004dacd4f12cad1f">bbox</a>, bbox, usebbox);</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; pair-&gt;<a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;size(); ++i)</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;    pair-&gt;<a class="code" href="../../d2/d49/class_pair.html#a7fc04b6c2a37e780211befa1c7c2d2d3">glregions</a>.push_back(<span class="keyword">new</span> <a class="code" href="../../d1/dd0/classgl_region.html">glRegion</a>(pair-&gt;<a class="code" href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">regions</a>-&gt;at(i)-&gt;boundary, </div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;                       0.0, 0.0));</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;  <span class="keywordflow">return</span> pair;</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;}</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160; </div>
<div class="line"><a name="l01312"></a><span class="lineno"><a class="line" href="../../d7/d5f/system_8_c.html#ad897483edb41f33a206e531e232ab46e"> 1312</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d7/d5f/system_8_c.html#ad897483edb41f33a206e531e232ab46e">triangulate_regions</a> (<a class="code" href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a> *regions, <a class="code" href="../../d2/d91/point_8h.html#a6ab2056ebc3a04f560f9bf1d01688d34">Triangles</a> &amp;triangles)</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;{</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;  <span class="keywordflow">if</span> (regions)</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; regions-&gt;size(); ++i)</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;      <a class="code" href="../../d6/d83/mtriangulate_8_c.html#a1cccac85eafe48b037e31e8a41501b1f">triangulate</a>(regions-&gt;at(i)-&gt;boundary, triangles);</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;}</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160; </div>
<div class="line"><a name="l01319"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#a3be70bb338e3f062f821173fd15680d0"> 1319</a></span>&#160;<a class="code" href="../../d9/d16/class_system.html#a3be70bb338e3f062f821173fd15680d0">System::~System</a> ()</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;{</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i)</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i];</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i)</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;    <span class="keyword">delete</span> <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i];</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;}</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160; </div>
<div class="line"><a name="l01327"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#a70cb292ef3c419acba0075f5a5317672"> 1327</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#a70cb292ef3c419acba0075f5a5317672">System::read</a> (istream &amp;istr)</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;{</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;  <span class="keywordtype">int</span> type, version, nparts, npairs, nlinkages, nfpairs;</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;  istr &gt;&gt; type &gt;&gt; version &gt;&gt; nparts &gt;&gt; npairs &gt;&gt; nlinkages &gt;&gt; nfpairs;</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nparts; ++i) {</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <a class="code" href="../../db/d16/class_part.html">Part</a> *part = <span class="keyword">new</span> <a class="code" href="../../db/d16/class_part.html">Part</a>;</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    part-&gt;<a class="code" href="../../db/d16/class_part.html#a4ac3eac5a262d5ea40d7762370071ace">read</a>(istr);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.push_back(part);</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;  }</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; npairs; ++i) {</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="keywordtype">int</span> ia, ib;</div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordtype">double</span> acc;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    istr &gt;&gt; ia &gt;&gt; ib &gt;&gt; acc;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html">Pair</a> *pair = <a class="code" href="../../d7/d5f/system_8_c.html#a327c62f0ea1caf8972a3ec36efa06d6d">form_pair</a>(<a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[ia], <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[ib], acc);</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;    <span class="keywordflow">if</span> (pair)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;      <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.push_back(pair);</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;  }</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;}</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160; </div>
<div class="line"><a name="l01346"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#a456cc303e9082a2a789959307db9a05a"> 1346</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#a456cc303e9082a2a789959307db9a05a">System::read_motions</a> (istream &amp;istr, <a class="code" href="../../dc/db2/system_8h.html#af59ce36446d8af36b9f73eae34032b19">Motions</a> &amp;motions, <span class="keywordtype">double</span> *c0,</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;               <span class="keywordtype">double</span> *pb)<span class="keyword"> const</span></div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;  <span class="keywordtype">int</span> nmotions, nm, aj;</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;  <span class="keywordtype">double</span> vj, dummy;</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;  istr &gt;&gt; nmotions;</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; nmotions; ++i) {</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;    <a class="code" href="../../d4/d9a/class_motion.html">Motion</a> <a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>;</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;    istr &gt;&gt; <a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>.time &gt;&gt; nm;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; nm; ++j) {</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;      istr &gt;&gt; aj &gt;&gt; vj;</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;      <a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>.elts.push_back(<a class="code" href="../../d9/d86/class_motion_elt.html">MotionElt</a>(<a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[aj], vj));</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;    }</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;    motions.push_back(<a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>);</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;  }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i)</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;    istr &gt;&gt; c0[i];</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;  istr &gt;&gt; dummy &gt;&gt; dummy;</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 4; ++i)</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;    istr &gt;&gt; pb[i];</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;  istr &gt;&gt; dummy;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;}</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160; </div>
<div class="line"><a name="l01369"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#ab0bfdc12f2ba78cd0a4f29abc80602c0"> 1369</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#ab0bfdc12f2ba78cd0a4f29abc80602c0">System::simulate</a> (<span class="keywordtype">double</span> *c0, <span class="keyword">const</span> <a class="code" href="../../dc/db2/system_8h.html#af59ce36446d8af36b9f73eae34032b19">Motions</a> &amp;motions, <a class="code" href="../../dc/db2/system_8h.html#a432224e037cfa9e2b22a661954124d56">Trajectory</a> &amp;traj)</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;{</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;  <span class="keywordtype">double</span> t = 0.0;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;  <a class="code" href="../../d9/d16/class_system.html#aa65fa4f7bf828d318259b045e5117423">set_state</a>(c0);</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;  <a class="code" href="../../d9/d16/class_system.html#acdf9109f1e42acf6c89d1288c88f61b9">write_state</a>(t, traj);</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i)</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;regions || <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;regions-&gt;empty())</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;      <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;  <a class="code" href="../../d9/d16/class_system.html#acb4e9dfc3a3fa799179246d2dc13e55a">set_regions</a>();</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; motions.size(); ++i) {</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;    <span class="keyword">const</span> <a class="code" href="../../d4/d9a/class_motion.html">Motion</a> &amp;m = motions[i];</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;    <span class="keywordtype">double</span> ti = 0.0;</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;    <span class="keywordtype">int</span> n = 0;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="keywordflow">while</span> (ti &lt; m.<a class="code" href="../../d4/d9a/class_motion.html#a8c9126cef3ed0be9cb5e479fd50263f8">time</a> &amp;&amp; n &lt; 100) {</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;      <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">set_velocity</a>(m))</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;      <a class="code" href="../../dd/d15/class_simulate_event.html">SimulateEvent</a> event;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d16/class_system.html#aa14efec80d88b1a8fac7ff670bde1548">next_event</a>(event) &amp;&amp; ti + event.<a class="code" href="../../dd/d15/class_simulate_event.html#a2846dfe4c7087ca79507fef705e7de88">time</a> &lt; m.<a class="code" href="../../d4/d9a/class_motion.html#a8c9126cef3ed0be9cb5e479fd50263f8">time</a>) {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    n = <span class="keyword">event</span>.<a class="code" href="../../dd/d15/class_simulate_event.html#a2846dfe4c7087ca79507fef705e7de88">time</a> &lt; <a class="code" href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a> ? n + 1 : 0;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;    ti += <span class="keyword">event</span>.time;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a52ddd6758811b1aa535daea1c97f901d">update_state</a>(event);</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#acdf9109f1e42acf6c89d1288c88f61b9">write_state</a>(t + ti, traj);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d16/class_system.html#a3bc4b689d579863ca1316e89fe9d0ff6">wrap</a>())</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;      <a class="code" href="../../d9/d16/class_system.html#acdf9109f1e42acf6c89d1288c88f61b9">write_state</a>(t + ti, traj);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;      }</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;      <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a52ddd6758811b1aa535daea1c97f901d">update_state</a>(m.<a class="code" href="../../d4/d9a/class_motion.html#a8c9126cef3ed0be9cb5e479fd50263f8">time</a> - ti);</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;    ti = m.<a class="code" href="../../d4/d9a/class_motion.html#a8c9126cef3ed0be9cb5e479fd50263f8">time</a>;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#acdf9109f1e42acf6c89d1288c88f61b9">write_state</a>(t + ti, traj);</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;      }</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    t += ti;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;  }</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;}</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160; </div>
<div class="line"><a name="l01404"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#aa65fa4f7bf828d318259b045e5117423"> 1404</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#aa65fa4f7bf828d318259b045e5117423">System::set_state</a> (<span class="keywordtype">double</span> *state)</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;{</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i)</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;x = state[i];</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160; </div>
<div class="line"><a name="l01410"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#acdf9109f1e42acf6c89d1288c88f61b9"> 1410</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#acdf9109f1e42acf6c89d1288c88f61b9">System::write_state</a> (<span class="keywordtype">double</span> t, <a class="code" href="../../dc/db2/system_8h.html#a432224e037cfa9e2b22a661954124d56">Trajectory</a> &amp;traj)<span class="keyword"> const</span></div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;  traj.push_back(t);</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i)</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;    traj.push_back(<a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;x);</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;}</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160; </div>
<div class="line"><a name="l01417"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#acb4e9dfc3a3fa799179246d2dc13e55a"> 1417</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#acb4e9dfc3a3fa799179246d2dc13e55a">System::set_regions</a> ()</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;{</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i) {</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;set_region();</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;free = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;  }</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;}</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160; </div>
<div class="line"><a name="l01425"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515"> 1425</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">System::set_velocity</a> (<span class="keyword">const</span> <a class="code" href="../../d4/d9a/class_motion.html">Motion</a> &amp;<a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>)</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;{</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i) {</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;v = 0.0;</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;traversed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;  }</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i)</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;traversed = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>.elts.size(); ++i)</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>.elts[i].part-&gt;v = <a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>.elts[i].v;</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;  for (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>.elts.size(); ++i)</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">set_velocity</a>(<a class="code" href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a>.elts[i].part))</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;}</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160; </div>
<div class="line"><a name="l01441"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#aba796bc4eef149522f7813143cb406e5"> 1441</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">System::set_velocity</a> (<a class="code" href="../../db/d16/class_part.html">Part</a> *p)</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;{</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;  p-&gt;<a class="code" href="../../db/d16/class_part.html#a8f7d9d45eca93712acf40c5efd5f7b6a">traversed</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;  <span class="keywordtype">bool</span> blocked;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i)</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;traversed || <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;free)</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;      ;</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;a == p) {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;      <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;traversed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;<a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">set_velocity</a>(<span class="keyword">true</span>, blocked)) {</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <span class="keywordflow">if</span> (blocked) </div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">set_velocity</a>(<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;b);</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;      }</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    }</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;b == p) {</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;      <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;traversed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;      <span class="keywordflow">if</span> (<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;<a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">set_velocity</a>(<span class="keyword">false</span>, blocked)) {</div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;    <span class="keywordflow">if</span> (blocked)</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;      <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">set_velocity</a>(<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;a);</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;      }</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;    }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;  <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;}</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160; </div>
<div class="line"><a name="l01467"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#aa14efec80d88b1a8fac7ff670bde1548"> 1467</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d16/class_system.html#aa14efec80d88b1a8fac7ff670bde1548">System::next_event</a> (<a class="code" href="../../dd/d15/class_simulate_event.html">SimulateEvent</a> &amp;event)<span class="keyword"> const</span></div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;  <span class="keywordtype">bool</span> flag = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i) {</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <a class="code" href="../../dd/d15/class_simulate_event.html">SimulateEvent</a> ievent;</div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    <span class="keywordtype">bool</span> iflag = <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;next_event(ievent);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    <span class="keywordflow">if</span> (iflag &amp;&amp; (!flag || ievent.<a class="code" href="../../dd/d15/class_simulate_event.html#a2846dfe4c7087ca79507fef705e7de88">time</a> &lt; event.<a class="code" href="../../dd/d15/class_simulate_event.html#a2846dfe4c7087ca79507fef705e7de88">time</a>)) {</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;      flag = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;      <span class="keyword">event</span> = ievent;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;    }</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;  }</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;  <span class="keywordflow">return</span> flag;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;}</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160; </div>
<div class="line"><a name="l01481"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#a52ddd6758811b1aa535daea1c97f901d"> 1481</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#a52ddd6758811b1aa535daea1c97f901d">System::update_state</a> (<span class="keyword">const</span> <a class="code" href="../../dd/d15/class_simulate_event.html">SimulateEvent</a> &amp;event)</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;{</div>
<div class="line"><a name="l01483"></a><span class="lineno"> 1483</span>&#160;  <a class="code" href="../../d9/d16/class_system.html#a52ddd6758811b1aa535daea1c97f901d">update_state</a>(event.<a class="code" href="../../dd/d15/class_simulate_event.html#a2846dfe4c7087ca79507fef705e7de88">time</a>);</div>
<div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;  <a class="code" href="../../d2/d49/class_pair.html">Pair</a> &amp;<a class="code" href="../../d0/d11/arrange_8_c.html#a8dcc307c192cdcf72f9fd4bd4cec4fde">pe</a> = *<span class="keyword">event</span>.pair;</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;  <a class="code" href="../../d0/d11/arrange_8_c.html#a8dcc307c192cdcf72f9fd4bd4cec4fde">pe</a>.edge[0] = <span class="keyword">event</span>.edge[0];</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;  <a class="code" href="../../d0/d11/arrange_8_c.html#a8dcc307c192cdcf72f9fd4bd4cec4fde">pe</a>.edge[1] = <span class="keyword">event</span>.edge[1];</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;  <a class="code" href="../../d0/d11/arrange_8_c.html#a8dcc307c192cdcf72f9fd4bd4cec4fde">pe</a>.a-&gt;x = <span class="keyword">event</span>.p.x;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;  <a class="code" href="../../d0/d11/arrange_8_c.html#a8dcc307c192cdcf72f9fd4bd4cec4fde">pe</a>.b-&gt;x = <span class="keyword">event</span>.p.y;</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;  <a class="code" href="../../d0/d11/arrange_8_c.html#a8dcc307c192cdcf72f9fd4bd4cec4fde">pe</a>.free = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;}</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160; </div>
<div class="line"><a name="l01492"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#aa6d00f05cf99f87ddafb746d7c9652d2"> 1492</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#a52ddd6758811b1aa535daea1c97f901d">System::update_state</a> (<span class="keywordtype">double</span> time)</div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;{</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i)</div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;x += <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;v*time;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;}</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160; </div>
<div class="line"><a name="l01498"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#a3bc4b689d579863ca1316e89fe9d0ff6"> 1498</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d9/d16/class_system.html#a3bc4b689d579863ca1316e89fe9d0ff6">System::wrap</a> ()</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;{</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;  <a class="code" href="../../dc/db2/system_8h.html#a69416a7fc00a4cebec7b5cf032ec6946">Pairs</a> wpairs;</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i) {</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <a class="code" href="../../db/d16/class_part.html">Part</a> *pi = <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i];</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="keywordflow">if</span> (pi-&gt;<a class="code" href="../../db/d16/class_part.html#af21b38db82a76c34fd5f4e8fff07203e">wrap</a>())</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> j = 0; j &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++j)</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;    <span class="keywordflow">if</span> (pi == <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[j]-&gt;a || pi == <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[j]-&gt;b)</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;      wpairs.push_back(<a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[j]);</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;  }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; wpairs.size(); ++i)</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    wpairs[i]-&gt;<a class="code" href="../../d9/d16/class_system.html#a3bc4b689d579863ca1316e89fe9d0ff6">wrap</a>();</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;  <span class="keywordflow">return</span> !wpairs.empty();</div>
<div class="line"><a name="l01511"></a><span class="lineno"> 1511</span>&#160;}</div>
<div class="line"><a name="l01512"></a><span class="lineno"> 1512</span>&#160; </div>
<div class="line"><a name="l01513"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#ae4e3d274569ff244017dafc193676e1c"> 1513</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#ae4e3d274569ff244017dafc193676e1c">System::form_profiles</a> (<span class="keywordtype">double</span> *z)</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;{</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;  <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[0]-&gt;profiles.empty())</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;    <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;  z[0] = <a class="code" href="../../da/d8e/cs_8h.html#a729f44ea060095f705587bf181fb3709">BIGNUMBER</a>;</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;  z[1] = - <a class="code" href="../../da/d8e/cs_8h.html#a729f44ea060095f705587bf181fb3709">BIGNUMBER</a>;</div>
<div class="line"><a name="l01519"></a><span class="lineno"> 1519</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(); ++i) {</div>
<div class="line"><a name="l01520"></a><span class="lineno"> 1520</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;form_profiles(0.01, z);</div>
<div class="line"><a name="l01521"></a><span class="lineno"> 1521</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>[i]-&gt;triangulate();</div>
<div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;  }</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;  z[0] -= 1.0;</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;  z[1] += 1.0;</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;}</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160; </div>
<div class="line"><a name="l01527"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#ad5175ace3aed1274a2f0ccf38618b44f"> 1527</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#ad5175ace3aed1274a2f0ccf38618b44f">System::form_pair_trajectories</a> (<a class="code" href="../../dc/db2/system_8h.html#a432224e037cfa9e2b22a661954124d56">Trajectory</a> &amp;traj)</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;{</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;  <span class="keywordtype">int</span> np = <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.size(), n = traj.size()/(np + 1);</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i) {</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <a class="code" href="../../d2/d49/class_pair.html">Pair</a> *p = <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i];</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="keywordtype">bool</span> ra = p-&gt;<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>, rb = p-&gt;<a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>-&gt;<a class="code" href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">rot</a>;</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <span class="keywordtype">int</span> ia = find(<a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.begin(), <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.end(), p-&gt;<a class="code" href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">a</a>) - <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.begin();</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;    <span class="keywordtype">int</span> ib = find(<a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.begin(), <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.end(), p-&gt;<a class="code" href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">b</a>) - <a class="code" href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">parts</a>.begin();</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    p-&gt;<a class="code" href="../../d2/d49/class_pair.html#afe30fd773a8d2aa08cefa9f752865403">gltraj</a>.<a class="code" href="../../d1/dd0/classgl_region.html#a62c1a351170dd92e5e576316f8e8088d">nvb</a>.push_back(0);</div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    p-&gt;<a class="code" href="../../d2/d49/class_pair.html#afe30fd773a8d2aa08cefa9f752865403">gltraj</a>.<a class="code" href="../../d1/dd0/classgl_region.html#ab39e8e67e91648edd873e0e9ce09026f">vb</a> = <span class="keyword">new</span> <span class="keywordtype">double</span> [3*n];</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="keywordtype">double</span> *vbp = p-&gt;<a class="code" href="../../d2/d49/class_pair.html#afe30fd773a8d2aa08cefa9f752865403">gltraj</a>.<a class="code" href="../../d1/dd0/classgl_region.html#ab39e8e67e91648edd873e0e9ce09026f">vb</a>, ox = 0.0, oy = 0.0;</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; n; ++j, vbp += 3) {</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;      <span class="keywordtype">double</span> x = traj[j*(np+1)+ia+1], y = traj[j*(np+1)+ib+1];</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;      <span class="keywordflow">if</span> (ra &amp;&amp; (fabs(ox) == M_PI || fabs(x) == M_PI) &amp;&amp; fabs(ox - x) &gt; 6.28 ||</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;      rb &amp;&amp; (fabs(oy) == M_PI || fabs(y) == M_PI) &amp;&amp; fabs(oy - y) &gt; 6.28)</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;    p-&gt;<a class="code" href="../../d2/d49/class_pair.html#afe30fd773a8d2aa08cefa9f752865403">gltraj</a>.<a class="code" href="../../d1/dd0/classgl_region.html#a62c1a351170dd92e5e576316f8e8088d">nvb</a>.push_back(j);</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;      vbp[0] = x;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;      vbp[1] = y;</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;      vbp[2] = 0.0;</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;      ox = x;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;      oy = y;</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;    }</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;    p-&gt;<a class="code" href="../../d2/d49/class_pair.html#afe30fd773a8d2aa08cefa9f752865403">gltraj</a>.<a class="code" href="../../d1/dd0/classgl_region.html#a62c1a351170dd92e5e576316f8e8088d">nvb</a>.push_back(n);</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;  }</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;}</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160; </div>
<div class="line"><a name="l01553"></a><span class="lineno"><a class="line" href="../../d9/d16/class_system.html#aa1499bd5312d684518c4a07dcf964508"> 1553</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d9/d16/class_system.html#aa1499bd5312d684518c4a07dcf964508">System::form_czone</a> (<span class="keywordtype">double</span> d)</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;{</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>.size(); ++i)</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;    <a class="code" href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">pairs</a>[i]-&gt;<a class="code" href="../../d9/d16/class_system.html#aa1499bd5312d684518c4a07dcf964508">form_czone</a>(d);</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;}</div>
<div class="ttc" id="aarrange_8_c_html_a8dcc307c192cdcf72f9fd4bd4cec4fde"><div class="ttname"><a href="../../d0/d11/arrange_8_c.html#a8dcc307c192cdcf72f9fd4bd4cec4fde">pe</a></div><div class="ttdeci">void pe(Edge *e)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/arrange_8_c_source.html#l01323">arrange.C:1323</a></div></div>
<div class="ttc" id="aarrange_8_c_html_a8f0f410db8738d9121c7b0a2629abd5d"><div class="ttname"><a href="../../d0/d11/arrange_8_c.html#a8f0f410db8738d9121c7b0a2629abd5d">arrange</a></div><div class="ttdeci">Arrangement * arrange(Segments &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/arrange_8_c_source.html#l01312">arrange.C:1312</a></div></div>
<div class="ttc" id="aarrange_8_c_html_ad281dbb75f898810d2d7ab25fbabbe98"><div class="ttname"><a href="../../d0/d11/arrange_8_c.html#ad281dbb75f898810d2d7ab25fbabbe98">delete_segments</a></div><div class="ttdeci">void delete_segments(Segments &amp;segments)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/arrange_8_c_source.html#l00395">arrange.C:395</a></div></div>
<div class="ttc" id="aarrange_8h_html_ac3b61278bc7e26264938b4f2b07a4b96"><div class="ttname"><a href="../../d5/d59/arrange_8h.html#ac3b61278bc7e26264938b4f2b07a4b96">Segments</a></div><div class="ttdeci">vector&lt; Segment * &gt; Segments</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/arrange_8h_source.html#l00084">arrange.h:84</a></div></div>
<div class="ttc" id="aclass_angle_html"><div class="ttname"><a href="../../d2/d39/class_angle.html">Angle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00075">point.h:75</a></div></div>
<div class="ttc" id="aclass_angle_html_a7d779572a08ea4c884ba302d1f0f74c7"><div class="ttname"><a href="../../d2/d39/class_angle.html#a7d779572a08ea4c884ba302d1f0f74c7">Angle::s</a></div><div class="ttdeci">double s</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00099">point.h:99</a></div></div>
<div class="ttc" id="aclass_angle_html_a89ceb8b5a8875a955f2b7b3f9397f5a1"><div class="ttname"><a href="../../d2/d39/class_angle.html#a89ceb8b5a8875a955f2b7b3f9397f5a1">Angle::inv</a></div><div class="ttdeci">Angle inv() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00084">point.h:84</a></div></div>
<div class="ttc" id="aclass_angle_html_a9bfaea5dfe9608a7588b0a061f989b6c"><div class="ttname"><a href="../../d2/d39/class_angle.html#a9bfaea5dfe9608a7588b0a061f989b6c">Angle::in_arc</a></div><div class="ttdeci">bool in_arc(const Angle &amp;s, const Angle &amp;e) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d00/point_8_c_source.html#l00067">point.C:67</a></div></div>
<div class="ttc" id="aclass_angle_html_ad3ef363989c9bff4d61da4698e220682"><div class="ttname"><a href="../../d2/d39/class_angle.html#ad3ef363989c9bff4d61da4698e220682">Angle::c</a></div><div class="ttdeci">double c</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00099">point.h:99</a></div></div>
<div class="ttc" id="aclass_angle_html_aeaf5fb65710c144ceed0a9105347af3c"><div class="ttname"><a href="../../d2/d39/class_angle.html#aeaf5fb65710c144ceed0a9105347af3c">Angle::angle</a></div><div class="ttdeci">double angle() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00083">point.h:83</a></div></div>
<div class="ttc" id="aclass_arrangement_html"><div class="ttname"><a href="../../d8/d46/class_arrangement.html">Arrangement</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/arrange_8h_source.html#l00201">arrange.h:201</a></div></div>
<div class="ttc" id="aclass_arrangement_html_abfb117a5e6eb22e705e2401d7ecf06e3"><div class="ttname"><a href="../../d8/d46/class_arrangement.html#abfb117a5e6eb22e705e2401d7ecf06e3">Arrangement::faces</a></div><div class="ttdeci">Faces faces</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/arrange_8h_source.html#l00247">arrange.h:247</a></div></div>
<div class="ttc" id="aclass_arrangement_html_ac8aba3d8b28ba91cc00caaceac51d010"><div class="ttname"><a href="../../d8/d46/class_arrangement.html#ac8aba3d8b28ba91cc00caaceac51d010">Arrangement::set_crossing_numbers</a></div><div class="ttdeci">void set_crossing_numbers(Face *f0, int cn0)</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/arrange_8_c_source.html#l01229">arrange.C:1229</a></div></div>
<div class="ttc" id="aclass_face_html"><div class="ttname"><a href="../../d5/d2a/class_face.html">Face</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/arrange_8h_source.html#l00183">arrange.h:183</a></div></div>
<div class="ttc" id="aclass_face_html_a0a3759b988f573101e07e9ea20c66a04"><div class="ttname"><a href="../../d5/d2a/class_face.html#a0a3759b988f573101e07e9ea20c66a04">Face::cn</a></div><div class="ttdeci">int cn</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/arrange_8h_source.html#l00193">arrange.h:193</a></div></div>
<div class="ttc" id="aclass_face_html_a0ff0e0b604821fb1350646a46f7b34e5"><div class="ttname"><a href="../../d5/d2a/class_face.html#a0ff0e0b604821fb1350646a46f7b34e5">Face::discretize</a></div><div class="ttdeci">void discretize(double tol, Profile &amp;boundary, double dmin=0.0) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/arrange_8_c_source.html#l00652">arrange.C:652</a></div></div>
<div class="ttc" id="aclass_face_html_a3827ab35011657d59b73d5c1603dbe27"><div class="ttname"><a href="../../d5/d2a/class_face.html#a3827ab35011657d59b73d5c1603dbe27">Face::traverse</a></div><div class="ttdeci">void traverse(Profile &amp;boundary) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d11/arrange_8_c_source.html#l00638">arrange.C:638</a></div></div>
<div class="ttc" id="aclass_face_html_a6fc237e1d7fbc7b9c124c252e64adc1d"><div class="ttname"><a href="../../d5/d2a/class_face.html#a6fc237e1d7fbc7b9c124c252e64adc1d">Face::in</a></div><div class="ttdeci">bool in</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/arrange_8h_source.html#l00192">arrange.h:192</a></div></div>
<div class="ttc" id="aclass_feature_html"><div class="ttname"><a href="../../d7/d76/class_feature.html">Feature</a></div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00074">cs.h:74</a></div></div>
<div class="ttc" id="aclass_feature_html_a113fad92250ae37d9981479b8748e2d6"><div class="ttname"><a href="../../d7/d76/class_feature.html#a113fad92250ae37d9981479b8748e2d6">Feature::discretize</a></div><div class="ttdeci">void discretize(double acc, Points &amp;points) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l00927">cs.C:927</a></div></div>
<div class="ttc" id="aclass_feature_html_a4324a8f4c0ca260d38be8be0411a7227"><div class="ttname"><a href="../../d7/d76/class_feature.html#a4324a8f4c0ca260d38be8be0411a7227">Feature::h</a></div><div class="ttdeci">Point h</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00132">cs.h:132</a></div></div>
<div class="ttc" id="aclass_feature_html_a4ea96b7b618693e77b2e816b1acdb5d3"><div class="ttname"><a href="../../d7/d76/class_feature.html#a4ea96b7b618693e77b2e816b1acdb5d3">Feature::t</a></div><div class="ttdeci">Point t</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00132">cs.h:132</a></div></div>
<div class="ttc" id="aclass_feature_html_a7b1aff4948433a26ca0425e747ab610e"><div class="ttname"><a href="../../d7/d76/class_feature.html#a7b1aff4948433a26ca0425e747ab610e">Feature::move</a></div><div class="ttdeci">Feature move(double th, double x, double y) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l00478">cs.C:478</a></div></div>
<div class="ttc" id="aclass_feature_html_a83bb82ac301bec8550a7adaf49bd15f6"><div class="ttname"><a href="../../d7/d76/class_feature.html#a83bb82ac301bec8550a7adaf49bd15f6">Feature::aa_r</a></div><div class="ttdeci">double aa_r(const Feature &amp;arc) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l00503">cs.C:503</a></div></div>
<div class="ttc" id="aclass_feature_html_a8f3f851aa3c0447a8120f29febfc2741"><div class="ttname"><a href="../../d7/d76/class_feature.html#a8f3f851aa3c0447a8120f29febfc2741">Feature::nh</a></div><div class="ttdeci">Angle nh</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00134">cs.h:134</a></div></div>
<div class="ttc" id="aclass_feature_html_a96ba18fdf70fef95e7f297c3013c6f84"><div class="ttname"><a href="../../d7/d76/class_feature.html#a96ba18fdf70fef95e7f297c3013c6f84">Feature::o</a></div><div class="ttdeci">Point o</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00132">cs.h:132</a></div></div>
<div class="ttc" id="aclass_feature_html_aa646edd96e2330b819223abe501dd9d0"><div class="ttname"><a href="../../d7/d76/class_feature.html#aa646edd96e2330b819223abe501dd9d0">Feature::full_circle</a></div><div class="ttdeci">bool full_circle() const</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00091">cs.h:91</a></div></div>
<div class="ttc" id="aclass_feature_html_ab33b17642a10b6c93e32589345bdaa69"><div class="ttname"><a href="../../d7/d76/class_feature.html#ab33b17642a10b6c93e32589345bdaa69">Feature::r</a></div><div class="ttdeci">double r</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00133">cs.h:133</a></div></div>
<div class="ttc" id="aclass_feature_html_abfd445666cec8b81621e079d1350a7fe"><div class="ttname"><a href="../../d7/d76/class_feature.html#abfd445666cec8b81621e079d1350a7fe">Feature::in</a></div><div class="ttdeci">bool in</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00131">cs.h:131</a></div></div>
<div class="ttc" id="aclass_feature_html_ac271e51b5f016e6b334bd7cddaf622c0"><div class="ttname"><a href="../../d7/d76/class_feature.html#ac271e51b5f016e6b334bd7cddaf622c0">Feature::split</a></div><div class="ttdeci">int split(Feature *parts) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l00951">cs.C:951</a></div></div>
<div class="ttc" id="aclass_feature_html_aedd6dfa40f304f32a757fe76555dbccd"><div class="ttname"><a href="../../d7/d76/class_feature.html#aedd6dfa40f304f32a757fe76555dbccd">Feature::circle</a></div><div class="ttdeci">bool circle</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00131">cs.h:131</a></div></div>
<div class="ttc" id="aclass_feature_html_af4caa67e155c6853274ea2192fb73fdb"><div class="ttname"><a href="../../d7/d76/class_feature.html#af4caa67e155c6853274ea2192fb73fdb">Feature::nt</a></div><div class="ttdeci">Angle nt</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00134">cs.h:134</a></div></div>
<div class="ttc" id="aclass_motion_elt_html"><div class="ttname"><a href="../../d9/d86/class_motion_elt.html">MotionElt</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00175">system.h:175</a></div></div>
<div class="ttc" id="aclass_motion_html"><div class="ttname"><a href="../../d4/d9a/class_motion.html">Motion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00186">system.h:186</a></div></div>
<div class="ttc" id="aclass_motion_html_a8c9126cef3ed0be9cb5e479fd50263f8"><div class="ttname"><a href="../../d4/d9a/class_motion.html#a8c9126cef3ed0be9cb5e479fd50263f8">Motion::time</a></div><div class="ttdeci">double time</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00190">system.h:190</a></div></div>
<div class="ttc" id="aclass_pair_html"><div class="ttname"><a href="../../d2/d49/class_pair.html">Pair</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00208">system.h:208</a></div></div>
<div class="ttc" id="aclass_pair_html_a1235684bea16349a06768d6e3fa4f29c"><div class="ttname"><a href="../../d2/d49/class_pair.html#a1235684bea16349a06768d6e3fa4f29c">Pair::free</a></div><div class="ttdeci">bool free</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00229">system.h:229</a></div></div>
<div class="ttc" id="aclass_pair_html_a1f622d7ae291ff9c004dacd4f12cad1f"><div class="ttname"><a href="../../d2/d49/class_pair.html#a1f622d7ae291ff9c004dacd4f12cad1f">Pair::bbox</a></div><div class="ttdeci">double bbox[4]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00225">system.h:225</a></div></div>
<div class="ttc" id="aclass_pair_html_a24ad3a21451a5c8a61ec91f9bbaef4d5"><div class="ttname"><a href="../../d2/d49/class_pair.html#a24ad3a21451a5c8a61ec91f9bbaef4d5">Pair::path</a></div><div class="ttdeci">bool path(const Point &amp;p, const Point &amp;q, Points &amp;res, bool optimize=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01271">system.C:1271</a></div></div>
<div class="ttc" id="aclass_pair_html_a2a4fba2072eb8db514b90db26d412b38"><div class="ttname"><a href="../../d2/d49/class_pair.html#a2a4fba2072eb8db514b90db26d412b38">Pair::set_region</a></div><div class="ttdeci">void set_region()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01110">system.C:1110</a></div></div>
<div class="ttc" id="aclass_pair_html_a3ce936fffad44eb5f220603512613382"><div class="ttname"><a href="../../d2/d49/class_pair.html#a3ce936fffad44eb5f220603512613382">Pair::czone</a></div><div class="ttdeci">Regions * czone</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00226">system.h:226</a></div></div>
<div class="ttc" id="aclass_pair_html_a48d8f96736e2a22688ecabb201b601bb"><div class="ttname"><a href="../../d2/d49/class_pair.html#a48d8f96736e2a22688ecabb201b601bb">Pair::regions</a></div><div class="ttdeci">Regions * regions</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00226">system.h:226</a></div></div>
<div class="ttc" id="aclass_pair_html_a548f3cd06f2f66be77b0731e0d27bab8"><div class="ttname"><a href="../../d2/d49/class_pair.html#a548f3cd06f2f66be77b0731e0d27bab8">Pair::wrap</a></div><div class="ttdeci">void wrap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01206">system.C:1206</a></div></div>
<div class="ttc" id="aclass_pair_html_a77c5e4231e50744248f8c36e23ce1641"><div class="ttname"><a href="../../d2/d49/class_pair.html#a77c5e4231e50744248f8c36e23ce1641">Pair::region</a></div><div class="ttdeci">Region * region</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00227">system.h:227</a></div></div>
<div class="ttc" id="aclass_pair_html_a7cd62817e1d68b08b51f06bc1c728521"><div class="ttname"><a href="../../d2/d49/class_pair.html#a7cd62817e1d68b08b51f06bc1c728521">Pair::tb</a></div><div class="ttdeci">Part * tb</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00224">system.h:224</a></div></div>
<div class="ttc" id="aclass_pair_html_a7fc04b6c2a37e780211befa1c7c2d2d3"><div class="ttname"><a href="../../d2/d49/class_pair.html#a7fc04b6c2a37e780211befa1c7c2d2d3">Pair::glregions</a></div><div class="ttdeci">glRegions glregions</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00231">system.h:231</a></div></div>
<div class="ttc" id="aclass_pair_html_a8b3f75f989ab8476c10b9d5b70dd98ca"><div class="ttname"><a href="../../d2/d49/class_pair.html#a8b3f75f989ab8476c10b9d5b70dd98ca">Pair::b</a></div><div class="ttdeci">Part * b</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00224">system.h:224</a></div></div>
<div class="ttc" id="aclass_pair_html_a90804f3d9749156d4ffd8354c7024c06"><div class="ttname"><a href="../../d2/d49/class_pair.html#a90804f3d9749156d4ffd8354c7024c06">Pair::a</a></div><div class="ttdeci">Part * a</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00224">system.h:224</a></div></div>
<div class="ttc" id="aclass_pair_html_a9df82156cc17fbfaf631684cfffdd77d"><div class="ttname"><a href="../../d2/d49/class_pair.html#a9df82156cc17fbfaf631684cfffdd77d">Pair::set_velocity</a></div><div class="ttdeci">bool set_velocity(bool aflag, bool &amp;blocked)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01127">system.C:1127</a></div></div>
<div class="ttc" id="aclass_pair_html_a9e65848b16c0ef163d2f00426c5083d4"><div class="ttname"><a href="../../d2/d49/class_pair.html#a9e65848b16c0ef163d2f00426c5083d4">Pair::glczone</a></div><div class="ttdeci">glRegions glczone</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00231">system.h:231</a></div></div>
<div class="ttc" id="aclass_pair_html_aa1c3e50c089f5659a89f294b9340e11c"><div class="ttname"><a href="../../d2/d49/class_pair.html#aa1c3e50c089f5659a89f294b9340e11c">Pair::ra</a></div><div class="ttdeci">Part * ra</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00224">system.h:224</a></div></div>
<div class="ttc" id="aclass_pair_html_ab7a627f2ea1c46b1012712f48b16f531"><div class="ttname"><a href="../../d2/d49/class_pair.html#ab7a627f2ea1c46b1012712f48b16f531">Pair::contact_segment</a></div><div class="ttdeci">void contact_segment(Point &amp;t, Point &amp;h) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01232">system.C:1232</a></div></div>
<div class="ttc" id="aclass_pair_html_abcb4620d18b26eae31648c54e33d0bba"><div class="ttname"><a href="../../d2/d49/class_pair.html#abcb4620d18b26eae31648c54e33d0bba">Pair::edge</a></div><div class="ttdeci">int edge[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00228">system.h:228</a></div></div>
<div class="ttc" id="aclass_pair_html_abde8f4ad0e1ec84b695a58082c1b3f01"><div class="ttname"><a href="../../d2/d49/class_pair.html#abde8f4ad0e1ec84b695a58082c1b3f01">Pair::~Pair</a></div><div class="ttdeci">~Pair()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01100">system.C:1100</a></div></div>
<div class="ttc" id="aclass_pair_html_ac4486f844217924898cb7d34f536cea4"><div class="ttname"><a href="../../d2/d49/class_pair.html#ac4486f844217924898cb7d34f536cea4">Pair::enclosing_region</a></div><div class="ttdeci">Region * enclosing_region(const Point &amp;p) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01280">system.C:1280</a></div></div>
<div class="ttc" id="aclass_pair_html_ac6b9ee78ab752f31b84380f43fcc2d09"><div class="ttname"><a href="../../d2/d49/class_pair.html#ac6b9ee78ab752f31b84380f43fcc2d09">Pair::form_czone</a></div><div class="ttdeci">void form_czone(double d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01240">system.C:1240</a></div></div>
<div class="ttc" id="aclass_pair_html_ad7ea6910aa819052a38864cc6fb86bcd"><div class="ttname"><a href="../../d2/d49/class_pair.html#ad7ea6910aa819052a38864cc6fb86bcd">Pair::next_event</a></div><div class="ttdeci">bool next_event(SimulateEvent &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01171">system.C:1171</a></div></div>
<div class="ttc" id="aclass_pair_html_aef3f1f2668c12a126e31a90e173a0f4c"><div class="ttname"><a href="../../d2/d49/class_pair.html#aef3f1f2668c12a126e31a90e173a0f4c">Pair::ctriangles</a></div><div class="ttdeci">Triangles ctriangles</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00230">system.h:230</a></div></div>
<div class="ttc" id="aclass_pair_html_afdfa8cbc50d7581dcb664fafb6a9885e"><div class="ttname"><a href="../../d2/d49/class_pair.html#afdfa8cbc50d7581dcb664fafb6a9885e">Pair::acc</a></div><div class="ttdeci">double acc</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00225">system.h:225</a></div></div>
<div class="ttc" id="aclass_pair_html_afe30fd773a8d2aa08cefa9f752865403"><div class="ttname"><a href="../../d2/d49/class_pair.html#afe30fd773a8d2aa08cefa9f752865403">Pair::gltraj</a></div><div class="ttdeci">glRegion gltraj</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00232">system.h:232</a></div></div>
<div class="ttc" id="aclass_part_html"><div class="ttname"><a href="../../db/d16/class_part.html">Part</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00044">system.h:44</a></div></div>
<div class="ttc" id="aclass_part_html_a05ef68152e341327c24d8ef177202114"><div class="ttname"><a href="../../db/d16/class_part.html#a05ef68152e341327c24d8ef177202114">Part::shift_feature</a></div><div class="ttdeci">Feature * shift_feature(Feature *f, double u) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00459">system.C:459</a></div></div>
<div class="ttc" id="aclass_part_html_a1145fc11374252d233a0cf9d979226d0"><div class="ttname"><a href="../../db/d16/class_part.html#a1145fc11374252d233a0cf9d979226d0">Part::form_bbox_rt</a></div><div class="ttdeci">void form_bbox_rt(Part *b, double *bbox) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00109">system.C:109</a></div></div>
<div class="ttc" id="aclass_part_html_a1710faabd37355a2a4380b904ea37642"><div class="ttname"><a href="../../db/d16/class_part.html#a1710faabd37355a2a4380b904ea37642">Part::~Part</a></div><div class="ttdeci">~Part()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00056">system.C:56</a></div></div>
<div class="ttc" id="aclass_part_html_a1bde9e44c4b66938838e75a654c529d5"><div class="ttname"><a href="../../db/d16/class_part.html#a1bde9e44c4b66938838e75a654c529d5">Part::x_range</a></div><div class="ttdeci">void x_range(double &amp;lb, double &amp;ub) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00149">system.C:149</a></div></div>
<div class="ttc" id="aclass_part_html_a1d8c36ec7daf9c9dfee5baf49fd31871"><div class="ttname"><a href="../../db/d16/class_part.html#a1d8c36ec7daf9c9dfee5baf49fd31871">Part::triangulate</a></div><div class="ttdeci">void triangulate()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00560">system.C:560</a></div></div>
<div class="ttc" id="aclass_part_html_a1fbba83080bd14d2f5918a69067eccd3"><div class="ttname"><a href="../../db/d16/class_part.html#a1fbba83080bd14d2f5918a69067eccd3">Part::move</a></div><div class="ttdeci">Part * move(const Angle &amp;a, const Point &amp;d) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00471">system.C:471</a></div></div>
<div class="ttc" id="aclass_part_html_a260b2ec4d85af6938e2c58cb6044bfc9"><div class="ttname"><a href="../../db/d16/class_part.html#a260b2ec4d85af6938e2c58cb6044bfc9">Part::offset</a></div><div class="ttdeci">Part * offset(double d) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00496">system.C:496</a></div></div>
<div class="ttc" id="aclass_part_html_a28e3e19633fb8b8e9df5a7b2554be95c"><div class="ttname"><a href="../../db/d16/class_part.html#a28e3e19633fb8b8e9df5a7b2554be95c">Part::color</a></div><div class="ttdeci">float color[3]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00079">system.h:79</a></div></div>
<div class="ttc" id="aclass_part_html_a2e8faa9bf7fbdc5624bf3739fa5452c5"><div class="ttname"><a href="../../db/d16/class_part.html#a2e8faa9bf7fbdc5624bf3739fa5452c5">Part::name</a></div><div class="ttdeci">string name</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00078">system.h:78</a></div></div>
<div class="ttc" id="aclass_part_html_a432687c5ffe7c557fd27633cdb2f2847"><div class="ttname"><a href="../../db/d16/class_part.html#a432687c5ffe7c557fd27633cdb2f2847">Part::y_range</a></div><div class="ttdeci">void y_range(double &amp;lb, double &amp;ub) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00169">system.C:169</a></div></div>
<div class="ttc" id="aclass_part_html_a4855b2f7c353efa45f04b8ed0d152f5b"><div class="ttname"><a href="../../db/d16/class_part.html#a4855b2f7c353efa45f04b8ed0d152f5b">Part::t</a></div><div class="ttdeci">Angle t</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00082">system.h:82</a></div></div>
<div class="ttc" id="aclass_part_html_a4ac3eac5a262d5ea40d7762370071ace"><div class="ttname"><a href="../../db/d16/class_part.html#a4ac3eac5a262d5ea40d7762370071ace">Part::read</a></div><div class="ttdeci">void read(istream &amp;istr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00385">system.C:385</a></div></div>
<div class="ttc" id="aclass_part_html_a5caad5277cd8b0c6fa72e8ac69584954"><div class="ttname"><a href="../../db/d16/class_part.html#a5caad5277cd8b0c6fa72e8ac69584954">Part::profiles</a></div><div class="ttdeci">Profiles profiles</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00085">system.h:85</a></div></div>
<div class="ttc" id="aclass_part_html_a5dd34516ebced4394401f22451314376"><div class="ttname"><a href="../../db/d16/class_part.html#a5dd34516ebced4394401f22451314376">Part::rot</a></div><div class="ttdeci">bool rot</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00080">system.h:80</a></div></div>
<div class="ttc" id="aclass_part_html_a612cd4b3e8a7197519c26aef52aed881"><div class="ttname"><a href="../../db/d16/class_part.html#a612cd4b3e8a7197519c26aef52aed881">Part::form_profiles</a></div><div class="ttdeci">void form_profiles(double acc, double *z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00543">system.C:543</a></div></div>
<div class="ttc" id="aclass_part_html_a6b50bc007f92d397b68875761be9aa71"><div class="ttname"><a href="../../db/d16/class_part.html#a6b50bc007f92d397b68875761be9aa71">Part::regions</a></div><div class="ttdeci">glRegions regions</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00086">system.h:86</a></div></div>
<div class="ttc" id="aclass_part_html_a72217419c9722ab419a277f89dd66bb2"><div class="ttname"><a href="../../db/d16/class_part.html#a72217419c9722ab419a277f89dd66bb2">Part::form_bbox</a></div><div class="ttdeci">void form_bbox(Part *b, double *bbox, double *ibbox) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00091">system.C:91</a></div></div>
<div class="ttc" id="aclass_part_html_a7b802302c9299086aa98cc314fed33d0"><div class="ttname"><a href="../../db/d16/class_part.html#a7b802302c9299086aa98cc314fed33d0">Part::form_regions</a></div><div class="ttdeci">void form_regions(Arrangement *arr, Part *b, Boundary *ba, bool aout, Boundary *bb, bool bout, double acc, Regions *regions) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00217">system.C:217</a></div></div>
<div class="ttc" id="aclass_part_html_a7f1594b15432b51a669bf812dd8f9c13"><div class="ttname"><a href="../../db/d16/class_part.html#a7f1594b15432b51a669bf812dd8f9c13">Part::read_slice</a></div><div class="ttdeci">Slice * read_slice(istream &amp;istr, const Angle &amp;th)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00414">system.C:414</a></div></div>
<div class="ttc" id="aclass_part_html_a8b57fc149d2a21377df8abe928c92294"><div class="ttname"><a href="../../db/d16/class_part.html#a8b57fc149d2a21377df8abe928c92294">Part::config</a></div><div class="ttdeci">void config(double mp, double *c) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00529">system.C:529</a></div></div>
<div class="ttc" id="aclass_part_html_a8d6599984cdf9de71b4bde8354533ad0"><div class="ttname"><a href="../../db/d16/class_part.html#a8d6599984cdf9de71b4bde8354533ad0">Part::read_sgroup</a></div><div class="ttdeci">void read_sgroup(istream &amp;istr, const Angle &amp;th, Boundary &amp;sgroup) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00442">system.C:442</a></div></div>
<div class="ttc" id="aclass_part_html_a8f7d9d45eca93712acf40c5efd5f7b6a"><div class="ttname"><a href="../../db/d16/class_part.html#a8f7d9d45eca93712acf40c5efd5f7b6a">Part::traversed</a></div><div class="ttdeci">bool traversed</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00087">system.h:87</a></div></div>
<div class="ttc" id="aclass_part_html_a9c2bd794a4a3973f19399344f44ad7dc"><div class="ttname"><a href="../../db/d16/class_part.html#a9c2bd794a4a3973f19399344f44ad7dc">Part::cspace</a></div><div class="ttdeci">Regions * cspace(Part *b, double acc, double *bbox, double *ibbox=0, bool usebbox=false) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00063">system.C:63</a></div></div>
<div class="ttc" id="aclass_part_html_a9fa4e0d3894d91faabca8018c8f806e2"><div class="ttname"><a href="../../db/d16/class_part.html#a9fa4e0d3894d91faabca8018c8f806e2">Part::rot_radius</a></div><div class="ttdeci">double rot_radius() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00135">system.C:135</a></div></div>
<div class="ttc" id="aclass_part_html_aa13a2e3545f09854a75612909db0fe3d"><div class="ttname"><a href="../../db/d16/class_part.html#aa13a2e3545f09854a75612909db0fe3d">Part::cspace_slice</a></div><div class="ttdeci">Regions * cspace_slice(const Boundaries &amp;ba, const Boundaries &amp;bb, Part *b, double acc, double *bbox) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00189">system.C:189</a></div></div>
<div class="ttc" id="aclass_part_html_abbcb46357cb81167473b1baee9c2d2e0"><div class="ttname"><a href="../../db/d16/class_part.html#abbcb46357cb81167473b1baee9c2d2e0">Part::Part</a></div><div class="ttdeci">Part(bool irot=false)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00046">system.h:46</a></div></div>
<div class="ttc" id="aclass_part_html_aceff5a92ead4fca4c99ceabec7971fc4"><div class="ttname"><a href="../../db/d16/class_part.html#aceff5a92ead4fca4c99ceabec7971fc4">Part::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00084">system.h:84</a></div></div>
<div class="ttc" id="aclass_part_html_ad09fc183848b2fd66b1d2e02cdea08c2"><div class="ttname"><a href="../../db/d16/class_part.html#ad09fc183848b2fd66b1d2e02cdea08c2">Part::triangulate_3d</a></div><div class="ttdeci">void triangulate_3d(ostream &amp;ostr) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00566">system.C:566</a></div></div>
<div class="ttc" id="aclass_part_html_adad608e8915dc008798090f9bbf58dcd"><div class="ttname"><a href="../../db/d16/class_part.html#adad608e8915dc008798090f9bbf58dcd">Part::form_bbox_tt</a></div><div class="ttdeci">void form_bbox_tt(Part *b, double *bbox) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00120">system.C:120</a></div></div>
<div class="ttc" id="aclass_part_html_aec414ddd7023856bab5f4868efc98999"><div class="ttname"><a href="../../db/d16/class_part.html#aec414ddd7023856bab5f4868efc98999">Part::o</a></div><div class="ttdeci">Point o</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00081">system.h:81</a></div></div>
<div class="ttc" id="aclass_part_html_af21b38db82a76c34fd5f4e8fff07203e"><div class="ttname"><a href="../../db/d16/class_part.html#af21b38db82a76c34fd5f4e8fff07203e">Part::wrap</a></div><div class="ttdeci">bool wrap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00514">system.C:514</a></div></div>
<div class="ttc" id="aclass_part_html_af3b65bac31938bc2e7526bb77c655645"><div class="ttname"><a href="../../db/d16/class_part.html#af3b65bac31938bc2e7526bb77c655645">Part::v</a></div><div class="ttdeci">double v</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00084">system.h:84</a></div></div>
<div class="ttc" id="aclass_part_html_af68a450704752c71d9173d2188b88070"><div class="ttname"><a href="../../db/d16/class_part.html#af68a450704752c71d9173d2188b88070">Part::slices</a></div><div class="ttdeci">Slices slices</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00083">system.h:83</a></div></div>
<div class="ttc" id="aclass_part_html_af98073011a0906ca68dac3420caadbbd"><div class="ttname"><a href="../../db/d16/class_part.html#af98073011a0906ca68dac3420caadbbd">Part::read_boundary</a></div><div class="ttdeci">Boundary * read_boundary(istream &amp;istr, const Angle &amp;th, bool flag) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00425">system.C:425</a></div></div>
<div class="ttc" id="aclass_part_html_afaebfd8f7c84e180ce99b2c188b8e28f"><div class="ttname"><a href="../../db/d16/class_part.html#afaebfd8f7c84e180ce99b2c188b8e28f">Part::overlap</a></div><div class="ttdeci">bool overlap(Part *b, double u, double v, Boundary *ba, bool aout, Boundary *bb, bool bout) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00254">system.C:254</a></div></div>
<div class="ttc" id="aclass_point_html"><div class="ttname"><a href="../../d0/d69/class_point.html">Point</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00013">point.h:13</a></div></div>
<div class="ttc" id="aclass_point_html_a1de1fcf72ec8d46bf347fd2cde72cc0d"><div class="ttname"><a href="../../d0/d69/class_point.html#a1de1fcf72ec8d46bf347fd2cde72cc0d">Point::norm</a></div><div class="ttdeci">double norm() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00029">point.h:29</a></div></div>
<div class="ttc" id="aclass_point_html_ab99c56589bc8ad5fa5071387110a5bc7"><div class="ttname"><a href="../../d0/d69/class_point.html#ab99c56589bc8ad5fa5071387110a5bc7">Point::x</a></div><div class="ttdeci">double x</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00033">point.h:33</a></div></div>
<div class="ttc" id="aclass_point_html_acc3058eeeacca7bab08c0c893ff4af2a"><div class="ttname"><a href="../../d0/d69/class_point.html#acc3058eeeacca7bab08c0c893ff4af2a">Point::distance</a></div><div class="ttdeci">double distance(const Point &amp;b) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00027">point.h:27</a></div></div>
<div class="ttc" id="aclass_point_html_afa38be143ae800e6ad69ce8ed4df62d8"><div class="ttname"><a href="../../d0/d69/class_point.html#afa38be143ae800e6ad69ce8ed4df62d8">Point::y</a></div><div class="ttdeci">double y</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00033">point.h:33</a></div></div>
<div class="ttc" id="aclass_region_html"><div class="ttname"><a href="../../df/d6c/class_region.html">Region</a></div><div class="ttdef"><b>Definition:</b> <a href="../../df/d07/region_8h_source.html#l00021">region.h:21</a></div></div>
<div class="ttc" id="aclass_region_html_a2fb14ad246a8fcc0d85f5869a4034726"><div class="ttname"><a href="../../df/d6c/class_region.html#a2fb14ad246a8fcc0d85f5869a4034726">Region::ray_intersection</a></div><div class="ttdeci">bool ray_intersection(const Point &amp;p, const Point &amp;v, double &amp;t, Point &amp;q, int *edata) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d25/region_8_c_source.html#l00073">region.C:73</a></div></div>
<div class="ttc" id="aclass_region_html_a57b6fcaf58735427d6fffe6d86b89c73"><div class="ttname"><a href="../../df/d6c/class_region.html#a57b6fcaf58735427d6fffe6d86b89c73">Region::boundary</a></div><div class="ttdeci">Profile boundary</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d07/region_8h_source.html#l00034">region.h:34</a></div></div>
<div class="ttc" id="aclass_region_html_a944dea943cdaa7b9bf7f38fe88d62f5f"><div class="ttname"><a href="../../df/d6c/class_region.html#a944dea943cdaa7b9bf7f38fe88d62f5f">Region::path</a></div><div class="ttdeci">bool path(const Point &amp;p, const Point &amp;q, Points &amp;res) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d25/region_8_c_source.html#l00091">region.C:91</a></div></div>
<div class="ttc" id="aclass_region_html_ab5287df366088be5b55aeb7efe55cc98"><div class="ttname"><a href="../../df/d6c/class_region.html#ab5287df366088be5b55aeb7efe55cc98">Region::distance</a></div><div class="ttdeci">double distance(const Point &amp;p, int *edata, Point &amp;q) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d25/region_8_c_source.html#l00043">region.C:43</a></div></div>
<div class="ttc" id="aclass_region_html_ab694b0cf7e7ce0eb31b2d8b93201b6b9"><div class="ttname"><a href="../../df/d6c/class_region.html#ab694b0cf7e7ce0eb31b2d8b93201b6b9">Region::area</a></div><div class="ttdeci">double area() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d25/region_8_c_source.html#l00003">region.C:3</a></div></div>
<div class="ttc" id="aclass_region_html_adefc4eeb2fc71edce16765fadb188f54"><div class="ttname"><a href="../../df/d6c/class_region.html#adefc4eeb2fc71edce16765fadb188f54">Region::interior_point</a></div><div class="ttdeci">Point interior_point() const</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d25/region_8_c_source.html#l00011">region.C:11</a></div></div>
<div class="ttc" id="aclass_segment_html"><div class="ttname"><a href="../../dd/dd2/class_segment.html">Segment</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d59/arrange_8h_source.html#l00043">arrange.h:43</a></div></div>
<div class="ttc" id="aclass_simulate_event_html"><div class="ttname"><a href="../../dd/d15/class_simulate_event.html">SimulateEvent</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00198">system.h:198</a></div></div>
<div class="ttc" id="aclass_simulate_event_html_a2846dfe4c7087ca79507fef705e7de88"><div class="ttname"><a href="../../dd/d15/class_simulate_event.html#a2846dfe4c7087ca79507fef705e7de88">SimulateEvent::time</a></div><div class="ttdeci">double time</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00203">system.h:203</a></div></div>
<div class="ttc" id="aclass_simulate_event_html_a2a0f690d7edf47d84c55169de527f1d7"><div class="ttname"><a href="../../dd/d15/class_simulate_event.html#a2a0f690d7edf47d84c55169de527f1d7">SimulateEvent::p</a></div><div class="ttdeci">Point p</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00205">system.h:205</a></div></div>
<div class="ttc" id="aclass_simulate_event_html_a539c70a32e80ffb5df64326d5987de1c"><div class="ttname"><a href="../../dd/d15/class_simulate_event.html#a539c70a32e80ffb5df64326d5987de1c">SimulateEvent::edge</a></div><div class="ttdeci">int edge[2]</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00204">system.h:204</a></div></div>
<div class="ttc" id="aclass_slice_html"><div class="ttname"><a href="../../dd/d6c/class_slice.html">Slice</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00029">system.h:29</a></div></div>
<div class="ttc" id="aclass_slice_html_af5eca11ee40a61159787ec35f2f1ed27"><div class="ttname"><a href="../../dd/d6c/class_slice.html#af5eca11ee40a61159787ec35f2f1ed27">Slice::~Slice</a></div><div class="ttdeci">~Slice()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00045">system.C:45</a></div></div>
<div class="ttc" id="aclass_slice_html_af7d01356587123198dcc47c700d42a1e"><div class="ttname"><a href="../../dd/d6c/class_slice.html#af7d01356587123198dcc47c700d42a1e">Slice::boundaries</a></div><div class="ttdeci">Boundaries boundaries</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00035">system.h:35</a></div></div>
<div class="ttc" id="aclass_system_html_a3bc4b689d579863ca1316e89fe9d0ff6"><div class="ttname"><a href="../../d9/d16/class_system.html#a3bc4b689d579863ca1316e89fe9d0ff6">System::wrap</a></div><div class="ttdeci">bool wrap()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01498">system.C:1498</a></div></div>
<div class="ttc" id="aclass_system_html_a3be70bb338e3f062f821173fd15680d0"><div class="ttname"><a href="../../d9/d16/class_system.html#a3be70bb338e3f062f821173fd15680d0">System::~System</a></div><div class="ttdeci">~System()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01319">system.C:1319</a></div></div>
<div class="ttc" id="aclass_system_html_a456cc303e9082a2a789959307db9a05a"><div class="ttname"><a href="../../d9/d16/class_system.html#a456cc303e9082a2a789959307db9a05a">System::read_motions</a></div><div class="ttdeci">void read_motions(istream &amp;istr, Motions &amp;motions, double *c0, double *pb) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01346">system.C:1346</a></div></div>
<div class="ttc" id="aclass_system_html_a52ddd6758811b1aa535daea1c97f901d"><div class="ttname"><a href="../../d9/d16/class_system.html#a52ddd6758811b1aa535daea1c97f901d">System::update_state</a></div><div class="ttdeci">void update_state(const SimulateEvent &amp;event)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01481">system.C:1481</a></div></div>
<div class="ttc" id="aclass_system_html_a5d0b94e24d859ac21526c4c0c2f7a157"><div class="ttname"><a href="../../d9/d16/class_system.html#a5d0b94e24d859ac21526c4c0c2f7a157">System::parts</a></div><div class="ttdeci">Parts parts</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00265">system.h:265</a></div></div>
<div class="ttc" id="aclass_system_html_a70cb292ef3c419acba0075f5a5317672"><div class="ttname"><a href="../../d9/d16/class_system.html#a70cb292ef3c419acba0075f5a5317672">System::read</a></div><div class="ttdeci">void read(istream &amp;istr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01327">system.C:1327</a></div></div>
<div class="ttc" id="aclass_system_html_aa1499bd5312d684518c4a07dcf964508"><div class="ttname"><a href="../../d9/d16/class_system.html#aa1499bd5312d684518c4a07dcf964508">System::form_czone</a></div><div class="ttdeci">void form_czone(double d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01553">system.C:1553</a></div></div>
<div class="ttc" id="aclass_system_html_aa14efec80d88b1a8fac7ff670bde1548"><div class="ttname"><a href="../../d9/d16/class_system.html#aa14efec80d88b1a8fac7ff670bde1548">System::next_event</a></div><div class="ttdeci">bool next_event(SimulateEvent &amp;event) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01467">system.C:1467</a></div></div>
<div class="ttc" id="aclass_system_html_aa65fa4f7bf828d318259b045e5117423"><div class="ttname"><a href="../../d9/d16/class_system.html#aa65fa4f7bf828d318259b045e5117423">System::set_state</a></div><div class="ttdeci">void set_state(double *state)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01404">system.C:1404</a></div></div>
<div class="ttc" id="aclass_system_html_ab0bfdc12f2ba78cd0a4f29abc80602c0"><div class="ttname"><a href="../../d9/d16/class_system.html#ab0bfdc12f2ba78cd0a4f29abc80602c0">System::simulate</a></div><div class="ttdeci">void simulate(double *c0, const Motions &amp;motions, Trajectory &amp;traj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01369">system.C:1369</a></div></div>
<div class="ttc" id="aclass_system_html_acb4e9dfc3a3fa799179246d2dc13e55a"><div class="ttname"><a href="../../d9/d16/class_system.html#acb4e9dfc3a3fa799179246d2dc13e55a">System::set_regions</a></div><div class="ttdeci">void set_regions()</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01417">system.C:1417</a></div></div>
<div class="ttc" id="aclass_system_html_acdf9109f1e42acf6c89d1288c88f61b9"><div class="ttname"><a href="../../d9/d16/class_system.html#acdf9109f1e42acf6c89d1288c88f61b9">System::write_state</a></div><div class="ttdeci">void write_state(double t, Trajectory &amp;traj) const</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01410">system.C:1410</a></div></div>
<div class="ttc" id="aclass_system_html_ad5175ace3aed1274a2f0ccf38618b44f"><div class="ttname"><a href="../../d9/d16/class_system.html#ad5175ace3aed1274a2f0ccf38618b44f">System::form_pair_trajectories</a></div><div class="ttdeci">void form_pair_trajectories(Trajectory &amp;traj)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01527">system.C:1527</a></div></div>
<div class="ttc" id="aclass_system_html_ae4e3d274569ff244017dafc193676e1c"><div class="ttname"><a href="../../d9/d16/class_system.html#ae4e3d274569ff244017dafc193676e1c">System::form_profiles</a></div><div class="ttdeci">void form_profiles(double *z)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01513">system.C:1513</a></div></div>
<div class="ttc" id="aclass_system_html_aefe7e5dcae60ebb8dfe7d0d39bc94515"><div class="ttname"><a href="../../d9/d16/class_system.html#aefe7e5dcae60ebb8dfe7d0d39bc94515">System::set_velocity</a></div><div class="ttdeci">bool set_velocity(const Motion &amp;motion)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01425">system.C:1425</a></div></div>
<div class="ttc" id="aclass_system_html_af4481ae855c8b039f686ce63798e3e9c"><div class="ttname"><a href="../../d9/d16/class_system.html#af4481ae855c8b039f686ce63798e3e9c">System::pairs</a></div><div class="ttdeci">Pairs pairs</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00266">system.h:266</a></div></div>
<div class="ttc" id="aclass_triangle_html"><div class="ttname"><a href="../../d2/d28/class_triangle.html">Triangle</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00109">point.h:109</a></div></div>
<div class="ttc" id="aclass_triangle_html_a08d2940a819cebd3321beeebbaef389e"><div class="ttname"><a href="../../d2/d28/class_triangle.html#a08d2940a819cebd3321beeebbaef389e">Triangle::a</a></div><div class="ttdeci">Point a</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00115">point.h:115</a></div></div>
<div class="ttc" id="aclass_triangle_html_a972f16cb46805d72e9421b3c42ebc980"><div class="ttname"><a href="../../d2/d28/class_triangle.html#a972f16cb46805d72e9421b3c42ebc980">Triangle::c</a></div><div class="ttdeci">Point c</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00115">point.h:115</a></div></div>
<div class="ttc" id="aclass_triangle_html_af4167c2fce79260b261531d0b0fd3798"><div class="ttname"><a href="../../d2/d28/class_triangle.html#af4167c2fce79260b261531d0b0fd3798">Triangle::b</a></div><div class="ttdeci">Point b</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00115">point.h:115</a></div></div>
<div class="ttc" id="aclassgl_region_html"><div class="ttname"><a href="../../d1/dd0/classgl_region.html">glRegion</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00014">system.h:14</a></div></div>
<div class="ttc" id="aclassgl_region_html_a62c1a351170dd92e5e576316f8e8088d"><div class="ttname"><a href="../../d1/dd0/classgl_region.html#a62c1a351170dd92e5e576316f8e8088d">glRegion::nvb</a></div><div class="ttdeci">vector&lt; int &gt; nvb</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00020">system.h:20</a></div></div>
<div class="ttc" id="aclassgl_region_html_a64bdc54f9b4a2156b37c6c17940fc869"><div class="ttname"><a href="../../d1/dd0/classgl_region.html#a64bdc54f9b4a2156b37c6c17940fc869">glRegion::vt</a></div><div class="ttdeci">double * vt</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00022">system.h:22</a></div></div>
<div class="ttc" id="aclassgl_region_html_a8560e7c543bd7a269aa4ba3643cc9160"><div class="ttname"><a href="../../d1/dd0/classgl_region.html#a8560e7c543bd7a269aa4ba3643cc9160">glRegion::glRegion</a></div><div class="ttdeci">glRegion()</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00016">system.h:16</a></div></div>
<div class="ttc" id="aclassgl_region_html_aa536351cf9cdb568a02512eee1c5d363"><div class="ttname"><a href="../../d1/dd0/classgl_region.html#aa536351cf9cdb568a02512eee1c5d363">glRegion::nvt</a></div><div class="ttdeci">int nvt</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00021">system.h:21</a></div></div>
<div class="ttc" id="aclassgl_region_html_ab39e8e67e91648edd873e0e9ce09026f"><div class="ttname"><a href="../../d1/dd0/classgl_region.html#ab39e8e67e91648edd873e0e9ce09026f">glRegion::vb</a></div><div class="ttdeci">double * vb</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00022">system.h:22</a></div></div>
<div class="ttc" id="acs_8_c_html_a30a9ef5a79bae429ee0c6947c9653f9a"><div class="ttname"><a href="../../d6/d39/cs_8_c.html#a30a9ef5a79bae429ee0c6947c9653f9a">boundary_contacts</a></div><div class="ttdeci">void boundary_contacts(Boundary *a, bool ra, Boundary *b, bool rb, const Point &amp;ob, Contacts &amp;res)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l01039">cs.C:1039</a></div></div>
<div class="ttc" id="acs_8_c_html_a482936b55574b568da61cb5eada15921"><div class="ttname"><a href="../../d6/d39/cs_8_c.html#a482936b55574b568da61cb5eada15921">form_curves_bbox</a></div><div class="ttdeci">void form_curves_bbox(bool brot, double *bbox, Segments &amp;curves)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l01814">cs.C:1814</a></div></div>
<div class="ttc" id="acs_8_c_html_a4b7de9e5dc6417dd0d5406ebc4229875"><div class="ttname"><a href="../../d6/d39/cs_8_c.html#a4b7de9e5dc6417dd0d5406ebc4229875">form_curves</a></div><div class="ttdeci">void form_curves(bool arot, bool brot, const Contacts &amp;contacts, double acc, double *bbox, Segments &amp;curves)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l01806">cs.C:1806</a></div></div>
<div class="ttc" id="acs_8_c_html_a66b6d7092280f6a0a04a6bc54b66b4d5"><div class="ttname"><a href="../../d6/d39/cs_8_c.html#a66b6d7092280f6a0a04a6bc54b66b4d5">delete_boundary</a></div><div class="ttdeci">void delete_boundary(Boundary *boundary)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l01799">cs.C:1799</a></div></div>
<div class="ttc" id="acs_8_c_html_abcd699cfbf8e64e6e6bb76bd8dda4579"><div class="ttname"><a href="../../d6/d39/cs_8_c.html#abcd699cfbf8e64e6e6bb76bd8dda4579">contacts</a></div><div class="ttdeci">void contacts(Feature *a, Feature *b, int n, const ContactFunction *f, const Domain &amp;domain, const Points &amp;apoints, const Points &amp;bpoints, Contacts &amp;contacts, const Point *ob)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l01403">cs.C:1403</a></div></div>
<div class="ttc" id="acs_8_c_html_acbffffcb40f86b2239411252d8d40ff5"><div class="ttname"><a href="../../d6/d39/cs_8_c.html#acbffffcb40f86b2239411252d8d40ff5">mod_pi</a></div><div class="ttdeci">double mod_pi(double alpha, bool flag)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l01716">cs.C:1716</a></div></div>
<div class="ttc" id="acs_8_c_html_adb00754a9fbab9860cade2a0d4ee0e01"><div class="ttname"><a href="../../d6/d39/cs_8_c.html#adb00754a9fbab9860cade2a0d4ee0e01">fillet</a></div><div class="ttdeci">Boundary * fillet(const Boundary &amp;fin)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d39/cs_8_c_source.html#l01735">cs.C:1735</a></div></div>
<div class="ttc" id="acs_8h_html_a002b2f4894492820fe708b1b7e7c5e70"><div class="ttname"><a href="../../da/d8e/cs_8h.html#a002b2f4894492820fe708b1b7e7c5e70">EPSILON</a></div><div class="ttdeci">#define EPSILON</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00006">cs.h:6</a></div></div>
<div class="ttc" id="acs_8h_html_a647b538530f90934e92f8067ada21de2"><div class="ttname"><a href="../../da/d8e/cs_8h.html#a647b538530f90934e92f8067ada21de2">Contacts</a></div><div class="ttdeci">vector&lt; Contact * &gt; Contacts</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00155">cs.h:155</a></div></div>
<div class="ttc" id="acs_8h_html_a729f44ea060095f705587bf181fb3709"><div class="ttname"><a href="../../da/d8e/cs_8h.html#a729f44ea060095f705587bf181fb3709">BIGNUMBER</a></div><div class="ttdeci">#define BIGNUMBER</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00007">cs.h:7</a></div></div>
<div class="ttc" id="acs_8h_html_ae972d0c5a59f091b88cd6a8260d9723c"><div class="ttname"><a href="../../da/d8e/cs_8h.html#ae972d0c5a59f091b88cd6a8260d9723c">Boundary</a></div><div class="ttdeci">vector&lt; Feature * &gt; Boundary</div><div class="ttdef"><b>Definition:</b> <a href="../../da/d8e/cs_8h_source.html#l00137">cs.h:137</a></div></div>
<div class="ttc" id="amtriangulate_8_c_html_a1cccac85eafe48b037e31e8a41501b1f"><div class="ttname"><a href="../../d6/d83/mtriangulate_8_c.html#a1cccac85eafe48b037e31e8a41501b1f">triangulate</a></div><div class="ttdeci">void triangulate(const Profile &amp;region, Triangles &amp;triangles)</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d83/mtriangulate_8_c_source.html#l00076">mtriangulate.C:76</a></div></div>
<div class="ttc" id="aplot_8_c_html_a45a7d7c86c97ca6a2d4d32ce2d263f67"><div class="ttname"><a href="../../de/dea/plot_8_c.html#a45a7d7c86c97ca6a2d4d32ce2d263f67">motion</a></div><div class="ttdeci">void motion(int x, int y)</div><div class="ttdef"><b>Definition:</b> <a href="../../de/dea/plot_8_c_source.html#l00238">plot.C:238</a></div></div>
<div class="ttc" id="apoint_8_c_html_a516c6d77c1942485e204d922964ff448"><div class="ttname"><a href="../../d5/d00/point_8_c.html#a516c6d77c1942485e204d922964ff448">write_profile</a></div><div class="ttdeci">void write_profile(const Profile &amp;profile, ostream &amp;ostr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d00/point_8_c_source.html#l00060">point.C:60</a></div></div>
<div class="ttc" id="apoint_8_c_html_ac3461a08db55ea6d28a406f79a317cbd"><div class="ttname"><a href="../../d5/d00/point_8_c.html#ac3461a08db55ea6d28a406f79a317cbd">signedArea</a></div><div class="ttdeci">double signedArea(const Points &amp;polygon)</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d00/point_8_c_source.html#l00020">point.C:20</a></div></div>
<div class="ttc" id="apoint_8h_html_a2786dfc8a28e30d6b6385f709a158a37"><div class="ttname"><a href="../../d2/d91/point_8h.html#a2786dfc8a28e30d6b6385f709a158a37">Points</a></div><div class="ttdeci">vector&lt; Point &gt; Points</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00036">point.h:36</a></div></div>
<div class="ttc" id="apoint_8h_html_a6ab2056ebc3a04f560f9bf1d01688d34"><div class="ttname"><a href="../../d2/d91/point_8h.html#a6ab2056ebc3a04f560f9bf1d01688d34">Triangles</a></div><div class="ttdeci">vector&lt; Triangle &gt; Triangles</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00118">point.h:118</a></div></div>
<div class="ttc" id="apoint_8h_html_a728aec46af2c2a1a25cab12b7febef66"><div class="ttname"><a href="../../d2/d91/point_8h.html#a728aec46af2c2a1a25cab12b7febef66">Profile</a></div><div class="ttdeci">vector&lt; Points &gt; Profile</div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d91/point_8h_source.html#l00038">point.h:38</a></div></div>
<div class="ttc" id="aregion_8_c_html_a1647f8fdd7436cfc14c1663a8fb56ebe"><div class="ttname"><a href="../../d1/d25/region_8_c.html#a1647f8fdd7436cfc14c1663a8fb56ebe">delete_regions</a></div><div class="ttdeci">void delete_regions(Regions *regions)</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d25/region_8_c_source.html#l00135">region.C:135</a></div></div>
<div class="ttc" id="aregion_8h_html_a6c2167e688fce6ef185bcc1b5199026d"><div class="ttname"><a href="../../df/d07/region_8h.html#a6c2167e688fce6ef185bcc1b5199026d">Regions</a></div><div class="ttdeci">vector&lt; Region * &gt; Regions</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d07/region_8h_source.html#l00037">region.h:37</a></div></div>
<div class="ttc" id="asystem_8_c_html_a18e735fdce69e5a2c9ad53855e4f3a67"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a18e735fdce69e5a2c9ad53855e4f3a67">triangulate_patch_aa_aux</a></div><div class="ttdeci">void triangulate_patch_aa_aux(Feature *arc1, Feature *arc2, double dt, double acc, int k, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00750">system.C:750</a></div></div>
<div class="ttc" id="asystem_8_c_html_a26844aaf5673452ccde61452e2431248"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a26844aaf5673452ccde61452e2431248">complement</a></div><div class="ttdeci">Regions * complement(Regions *regions, double *bbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01057">system.C:1057</a></div></div>
<div class="ttc" id="asystem_8_c_html_a327c62f0ea1caf8972a3ec36efa06d6d"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a327c62f0ea1caf8972a3ec36efa06d6d">form_pair</a></div><div class="ttdeci">Pair * form_pair(Part *a, Part *b, double acc, double *bbox, bool usebbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01290">system.C:1290</a></div></div>
<div class="ttc" id="asystem_8_c_html_a3e8494501350689592901382a4e21591"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a3e8494501350689592901382a4e21591">add_point_3d</a></div><div class="ttdeci">void add_point_3d(double x, double y, double z, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00621">system.C:621</a></div></div>
<div class="ttc" id="asystem_8_c_html_a412742294c60cc4bb6ab155fd8e4d57e"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a412742294c60cc4bb6ab155fd8e4d57e">transpose</a></div><div class="ttdeci">void transpose(const vector&lt; double &gt; &amp;apts, int axis, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00684">system.C:684</a></div></div>
<div class="ttc" id="asystem_8_c_html_a49268a9394e3d02ad87b074509075acb"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a49268a9394e3d02ad87b074509075acb">triangulate_strip</a></div><div class="ttdeci">void triangulate_strip(Points &amp;lb, double lth, Points &amp;ub, double uth, int k, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00785">system.C:785</a></div></div>
<div class="ttc" id="asystem_8_c_html_a5333038f5b79b5832ddb50d25a6955ed"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a5333038f5b79b5832ddb50d25a6955ed">triangulate_profile_tb</a></div><div class="ttdeci">void triangulate_profile_tb(const Triangles &amp;triangles, double z, bool ccw, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00584">system.C:584</a></div></div>
<div class="ttc" id="asystem_8_c_html_a586f2871b7d3ca2f661d636e3aadf286"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a586f2871b7d3ca2f661d636e3aadf286">sliced_cspace</a></div><div class="ttdeci">void sliced_cspace(Part *a, Part *b, double ths, double the, double dt, double acc, ostream &amp;ostr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00934">system.C:934</a></div></div>
<div class="ttc" id="asystem_8_c_html_a5e264d3b479aaf1b8773db93ad89d613"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a5e264d3b479aaf1b8773db93ad89d613">resample</a></div><div class="ttdeci">void resample(const Points &amp;points, int n, Points &amp;res)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00802">system.C:802</a></div></div>
<div class="ttc" id="asystem_8_c_html_a6139aa9001df9395b2266a56e68546b7"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a6139aa9001df9395b2266a56e68546b7">triangulate_patch_la</a></div><div class="ttdeci">void triangulate_patch_la(Feature *line, Feature *arc, double dt, int k, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00866">system.C:866</a></div></div>
<div class="ttc" id="asystem_8_c_html_a660c3a3ae325298d0792a433ab9c9683"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a660c3a3ae325298d0792a433ab9c9683">region_segments</a></div><div class="ttdeci">void region_segments(Region *region, double *bbox, Segments &amp;segs)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01037">system.C:1037</a></div></div>
<div class="ttc" id="asystem_8_c_html_a685e86f3b4b43e535993aba6f6eb0c91"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a685e86f3b4b43e535993aba6f6eb0c91">reflect_points</a></div><div class="ttdeci">void reflect_points(const Points &amp;pts, Points &amp;rpts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00955">system.C:955</a></div></div>
<div class="ttc" id="asystem_8_c_html_a70fb68249e675197d9bb29bddbe0cd53"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a70fb68249e675197d9bb29bddbe0cd53">triangulate_patch_al</a></div><div class="ttdeci">void triangulate_patch_al(Feature *arc, Feature *line, double dt, int k, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00829">system.C:829</a></div></div>
<div class="ttc" id="asystem_8_c_html_a7495626132b6c7a7b1b7320fe34f571a"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a7495626132b6c7a7b1b7320fe34f571a">read_feature</a></div><div class="ttdeci">Feature * read_feature(istream &amp;istr, const Angle &amp;th)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00972">system.C:972</a></div></div>
<div class="ttc" id="asystem_8_c_html_a78afbeb04fcf5ebf57692de808295387"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a78afbeb04fcf5ebf57692de808295387">overlap</a></div><div class="ttdeci">bool overlap(Boundary *b1, Boundary *b2)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00295">system.C:295</a></div></div>
<div class="ttc" id="asystem_8_c_html_a78b317ac9df0756b175b6bbc7931c888"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a78b317ac9df0756b175b6bbc7931c888">triangulate_profile_3d</a></div><div class="ttdeci">void triangulate_profile_3d(const Profile &amp;profile, double lb, double ub, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00574">system.C:574</a></div></div>
<div class="ttc" id="asystem_8_c_html_a7d7ac1def01662e67c5442394bdd3bb0"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a7d7ac1def01662e67c5442394bdd3bb0">contains</a></div><div class="ttdeci">bool contains(const Boundary &amp;boundary, Point p)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00304">system.C:304</a></div></div>
<div class="ttc" id="asystem_8_c_html_a82cbf5939ab5e9004e60e80823669680"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a82cbf5939ab5e9004e60e80823669680">bbox_segment</a></div><div class="ttdeci">bool bbox_segment(const Point &amp;t, const Point &amp;h, double *bbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01051">system.C:1051</a></div></div>
<div class="ttc" id="asystem_8_c_html_a8bc319d771a13e5e756a8daabde998b9"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a8bc319d771a13e5e756a8daabde998b9">delete_glRegions</a></div><div class="ttdeci">void delete_glRegions(glRegions &amp;regions)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00038">system.C:38</a></div></div>
<div class="ttc" id="asystem_8_c_html_a8ffed94d76c1c9dbb7ba9fe930a7a61e"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a8ffed94d76c1c9dbb7ba9fe930a7a61e">triangulate_profile_s</a></div><div class="ttdeci">void triangulate_profile_s(const Profile &amp;profile, double lb, double ub, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00599">system.C:599</a></div></div>
<div class="ttc" id="asystem_8_c_html_a91d73aeb8c65d58a5b63ac0cf1fe3d95"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a91d73aeb8c65d58a5b63ac0cf1fe3d95">extrude</a></div><div class="ttdeci">void extrude(const Triangles &amp;triangles, int axis, double *aint, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00664">system.C:664</a></div></div>
<div class="ttc" id="asystem_8_c_html_a9a0d020929f359a8e6da572e17324aa9"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#a9a0d020929f359a8e6da572e17324aa9">write_triangles_vtk</a></div><div class="ttdeci">void write_triangles_vtk(ostream &amp;ostr, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00628">system.C:628</a></div></div>
<div class="ttc" id="asystem_8_c_html_aa43483f15c774639d33d73b3f62a881b"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#aa43483f15c774639d33d73b3f62a881b">delete_boundaries</a></div><div class="ttdeci">void delete_boundaries(Boundaries &amp;boundaries)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00050">system.C:50</a></div></div>
<div class="ttc" id="asystem_8_c_html_abc261e01d8f1e11eebaa933f9f6890ab"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#abc261e01d8f1e11eebaa933f9f6890ab">intersection</a></div><div class="ttdeci">Regions * intersection(const RegionsList &amp;rlist, double *bbox)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00986">system.C:986</a></div></div>
<div class="ttc" id="asystem_8_c_html_aca3072db137030b4e74733c5a2f0b46f"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#aca3072db137030b4e74733c5a2f0b46f">triangulate_patch</a></div><div class="ttdeci">void triangulate_patch(Feature *f, Feature *g, double dt, double acc, int k, ostream &amp;ostr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00711">system.C:711</a></div></div>
<div class="ttc" id="asystem_8_c_html_acd7f2d5bae088bcd36199a667b870764"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#acd7f2d5bae088bcd36199a667b870764">triangulate_fa</a></div><div class="ttdeci">void triangulate_fa(Part *a, Part *b, double acc, double *bbox, int axis, double *aint, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00647">system.C:647</a></div></div>
<div class="ttc" id="asystem_8_c_html_ad897483edb41f33a206e531e232ab46e"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#ad897483edb41f33a206e531e232ab46e">triangulate_regions</a></div><div class="ttdeci">void triangulate_regions(Regions *regions, Triangles &amp;triangles)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l01312">system.C:1312</a></div></div>
<div class="ttc" id="asystem_8_c_html_adb0daf493d0efd846d00b467be3be6be"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#adb0daf493d0efd846d00b467be3be6be">triangulate_patch_aa</a></div><div class="ttdeci">void triangulate_patch_aa(Feature *arc1, Feature *arc2, double dt, double acc, int k, vector&lt; double &gt; &amp;pts)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00730">system.C:730</a></div></div>
<div class="ttc" id="asystem_8_c_html_aebf980a2a6bbcadabce00c82b5af9536"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#aebf980a2a6bbcadabce00c82b5af9536">move</a></div><div class="ttdeci">Boundary * move(Boundary *b, const Angle &amp;a, const Point &amp;d)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00285">system.C:285</a></div></div>
<div class="ttc" id="asystem_8_c_html_aed08f5587c0034df7b6b210a92df7ef3"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#aed08f5587c0034df7b6b210a92df7ef3">sampled_cspace</a></div><div class="ttdeci">void sampled_cspace(Part *a, Part *b, double ths, double the, double dt, double acc, int k, ostream &amp;ostr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00903">system.C:903</a></div></div>
<div class="ttc" id="asystem_8_c_html_af247c0f3c7aca552fa7c1766b0df3a5e"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#af247c0f3c7aca552fa7c1766b0df3a5e">triangulate_patches</a></div><div class="ttdeci">void triangulate_patches(const Boundary &amp;a, const Boundary &amp;b, double dt, double acc, int k, ostream &amp;ostr)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00701">system.C:701</a></div></div>
<div class="ttc" id="asystem_8_c_html_afeae786c00344bcd983ec5aaa33c46f6"><div class="ttname"><a href="../../d7/d5f/system_8_c.html#afeae786c00344bcd983ec5aaa33c46f6">reflect_profile</a></div><div class="ttdeci">void reflect_profile(const Profile &amp;prof, Profile &amp;rprof)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d5f/system_8_c_source.html#l00963">system.C:963</a></div></div>
<div class="ttc" id="asystem_8h_html"><div class="ttname"><a href="../../dc/db2/system_8h.html">system.h</a></div></div>
<div class="ttc" id="asystem_8h_html_a1582e58b0c057f3ab266fa71d4eef4e3"><div class="ttname"><a href="../../dc/db2/system_8h.html#a1582e58b0c057f3ab266fa71d4eef4e3">glRegions</a></div><div class="ttdeci">vector&lt; glRegion * &gt; glRegions</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00025">system.h:25</a></div></div>
<div class="ttc" id="asystem_8h_html_a2e6dce66ed052a44034a7d22419e6d0e"><div class="ttname"><a href="../../dc/db2/system_8h.html#a2e6dce66ed052a44034a7d22419e6d0e">Boundaries</a></div><div class="ttdeci">vector&lt; Boundary * &gt; Boundaries</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00012">system.h:12</a></div></div>
<div class="ttc" id="asystem_8h_html_a432224e037cfa9e2b22a661954124d56"><div class="ttname"><a href="../../dc/db2/system_8h.html#a432224e037cfa9e2b22a661954124d56">Trajectory</a></div><div class="ttdeci">vector&lt; double &gt; Trajectory</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00242">system.h:242</a></div></div>
<div class="ttc" id="asystem_8h_html_a5f3ef89401c17b2ca7277264fe3be418"><div class="ttname"><a href="../../dc/db2/system_8h.html#a5f3ef89401c17b2ca7277264fe3be418">RegionsList</a></div><div class="ttdeci">vector&lt; Regions * &gt; RegionsList</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00010">system.h:10</a></div></div>
<div class="ttc" id="asystem_8h_html_a69416a7fc00a4cebec7b5cf032ec6946"><div class="ttname"><a href="../../dc/db2/system_8h.html#a69416a7fc00a4cebec7b5cf032ec6946">Pairs</a></div><div class="ttdeci">vector&lt; Pair * &gt; Pairs</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00235">system.h:235</a></div></div>
<div class="ttc" id="asystem_8h_html_af59ce36446d8af36b9f73eae34032b19"><div class="ttname"><a href="../../dc/db2/system_8h.html#af59ce36446d8af36b9f73eae34032b19">Motions</a></div><div class="ttdeci">vector&lt; Motion &gt; Motions</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00194">system.h:194</a></div></div>
<div class="ttc" id="asystem_8h_html_afde0838293fd6db8bf81af99282a4f23"><div class="ttname"><a href="../../dc/db2/system_8h.html#afde0838293fd6db8bf81af99282a4f23">MINAREA</a></div><div class="ttdeci">#define MINAREA</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db2/system_8h_source.html#l00008">system.h:8</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d7/d5f/system_8_c.html">system.C</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
